{"ast":null,"code":"import _slicedToArray from\"/home/akbar/Desktop/salam/final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import AdminSidebar from\"../../Components/AdminSidebar\";import\"./AdminSubCategoryPage.css\";import axios from\"axios\";import Loading from\"../../Components/Loading/Loading\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminSubCategoryPage=function AdminSubCategoryPage(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),subcategory=_React$useState2[0],setSubcategory=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),category=_React$useState4[0],setCategory=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),created=_React$useState6[0],setCreated=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),formCategory=_React$useState8[0],setFormCategory=_React$useState8[1];var _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),formSubCategory=_React$useState10[0],setFormSubCategory=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),img=_React$useState12[0],setImg=_React$useState12[1];React.useEffect(function(){axios.get(\"/subcategory\").then(function(res){setSubcategory(res.data);console.log(res.data);});},[created]);React.useEffect(function(){axios.get(\"/category\").then(function(res){setCategory(res.data);console.log(res.data);});},[created]);var submitHandler=function submitHandler(e){e.preventDefault();var fd=new FormData();var _JSON$parse=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse.token;fd.append(\"subCategoryName\",formSubCategory);fd.append(\"category\",formCategory);fd.append(\"img\",img);axios.post(\"/subcategory\",fd,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}}).then(function(res){setCreated(res.data.subCategoryName+Date.now());console.log(res.data._id);window.M.toast({html:\"Подкатегория создана\",classes:\"loginToast\"});}).catch(function(e){window.M.toast({html:\"Подкатегория создана\",classes:\"loginToastRed\"});});};var deleteHandler=function deleteHandler(e,id){console.log(id);var _JSON$parse2=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse2.token;axios.delete(\"/subcategory/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){setCreated(res.data.message+Date.now());window.M.toast({html:\"Подкатегория удалена\",classes:\"loginToastYellow\"});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"modal1\",className:\"modal modal-fixed-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"C\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return submitHandler(e);},style:{padding:\"30px 60px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:formCategory,onChange:function onChange(e){return setFormCategory(e.target.value);},className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),category.length>0&&category.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el._categoryName,children:el.categoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"categoryName\",type:\"text\",required:true,className:\"validate\",value:formSubCategory,onChange:function onChange(e){return setFormSubCategory(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categoryName\",children:\"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field col s12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",required:true,onChange:function onChange(e){return setImg(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path validate\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-green green btn-flat close-modal\",type:\"submit\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\"})]}),/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"adminUsersPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"adminProductsPageHeader\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"adminProductPageTitle\",children:\"\\u0412\\u0441\\u0435 \\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{\"data-target\":\"modal1\",className:\"btn modal-trigger right-align\",onClick:function onClick(e){var elem=document.querySelectorAll(\".modal\");window.M.Modal.init(elem);},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u2116\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u0430\\u0440\\u0442\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:subcategory.length>0&&subcategory.map(function(el,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:index+1}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"/\".concat(el.img.path),height:\"80px\",alt:\"categoryname\"})}),/*#__PURE__*/_jsx(\"th\",{children:el.subCategoryName}),/*#__PURE__*/_jsx(\"th\",{children:el.category}),/*#__PURE__*/_jsx(\"th\",{children:new Date(el.createdAt).toDateString()}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/subcategory/\".concat(el._id),className:\"btn yellow accent-4 waves-effect waves-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deleteHandler(e,el._id);},className:\"btn deep-orange darken-1 waves-effect waves-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]},index+1);})})]}),subcategory.length===0&&/*#__PURE__*/_jsx(Loading,{})]})]});};export default AdminSubCategoryPage;","map":{"version":3,"sources":["/home/akbar/Desktop/salam/final/client/src/pages/adminpages/AdminSubCategoryPage.js"],"names":["React","AdminSidebar","axios","Loading","Link","AdminSubCategoryPage","useState","subcategory","setSubcategory","category","setCategory","created","setCreated","formCategory","setFormCategory","formSubCategory","setFormSubCategory","img","setImg","useEffect","get","then","res","data","console","log","submitHandler","e","preventDefault","fd","FormData","JSON","parse","localStorage","getItem","token","append","post","headers","Authorization","subCategoryName","Date","now","_id","window","M","toast","html","classes","catch","deleteHandler","id","delete","message","padding","target","value","length","map","el","_categoryName","categoryName","files","elem","document","querySelectorAll","Modal","init","index","path","createdAt","toDateString"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,MAAO,4BAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,qBACKL,KAAK,CAACM,QAAN,CAAe,EAAf,CADL,oDAC1BC,WAD0B,qBACbC,cADa,0CAEDR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFC,qDAE1BG,QAF0B,qBAEhBC,WAFgB,0CAIHV,KAAK,CAACM,QAAN,CAAe,EAAf,CAJG,qDAI1BK,OAJ0B,qBAIjBC,UAJiB,0CAMOZ,KAAK,CAACM,QAAN,CAAe,EAAf,CANP,qDAM1BO,YAN0B,qBAMZC,eANY,0CAOad,KAAK,CAACM,QAAN,CAAe,EAAf,CAPb,sDAO1BS,eAP0B,sBAOTC,kBAPS,4CAQXhB,KAAK,CAACM,QAAN,CAAe,EAAf,CARW,uDAQ1BW,GAR0B,sBAQrBC,MARqB,sBAUjClB,KAAK,CAACmB,SAAN,CAAgB,UAAM,CACpBjB,KAAK,CAACkB,GAAN,CAAU,cAAV,EAA0BC,IAA1B,CAA+B,SAACC,GAAD,CAAS,CACtCd,cAAc,CAACc,GAAG,CAACC,IAAL,CAAd,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB,EACD,CAHD,EAID,CALD,CAKG,CAACZ,OAAD,CALH,EAOAX,KAAK,CAACmB,SAAN,CAAgB,UAAM,CACpBjB,KAAK,CAACkB,GAAN,CAAU,WAAV,EAAuBC,IAAvB,CAA4B,SAACC,GAAD,CAAS,CACnCZ,WAAW,CAACY,GAAG,CAACC,IAAL,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB,EACD,CAHD,EAID,CALD,CAKG,CAACZ,OAAD,CALH,EAOA,GAAMe,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,EAAE,CAAG,GAAIC,CAAAA,QAAJ,EAAX,CAF2B,gBAITC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAJS,CAInBC,KAJmB,aAInBA,KAJmB,CAM3BN,EAAE,CAACO,MAAH,CAAU,iBAAV,CAA6BrB,eAA7B,EACAc,EAAE,CAACO,MAAH,CAAU,UAAV,CAAsBvB,YAAtB,EACAgB,EAAE,CAACO,MAAH,CAAU,KAAV,CAAiBnB,GAAjB,EAEAf,KAAK,CACFmC,IADH,CACQ,cADR,CACwBR,EADxB,CAC4B,CACxBS,OAAO,CAAE,CACP,eAAgB,qBADT,CAEPC,aAAa,kBAAYJ,KAAZ,CAFN,CADe,CAD5B,EAOGd,IAPH,CAOQ,SAACC,GAAD,CAAS,CACbV,UAAU,CAACU,GAAG,CAACC,IAAJ,CAASiB,eAAT,CAA2BC,IAAI,CAACC,GAAL,EAA5B,CAAV,CACAlB,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAJ,CAASoB,GAArB,EACAC,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe,CAAEC,IAAI,CAAE,sBAAR,CAAgCC,OAAO,CAAE,YAAzC,CAAf,EACD,CAXH,EAYGC,KAZH,CAYS,SAACtB,CAAD,CAAO,CACZiB,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe,CACbC,IAAI,CAAE,sBADO,CAEbC,OAAO,CAAE,eAFI,CAAf,EAID,CAjBH,EAkBD,CA5BD,CA8BA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACvB,CAAD,CAAIwB,EAAJ,CAAW,CAC/B3B,OAAO,CAACC,GAAR,CAAY0B,EAAZ,EAD+B,iBAEbpB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAFa,CAEvBC,KAFuB,cAEvBA,KAFuB,CAI/BjC,KAAK,CACFkD,MADH,wBAC0BD,EAD1B,EACgC,CAC5Bb,OAAO,CAAE,CACPC,aAAa,kBAAYJ,KAAZ,CADN,CADmB,CADhC,EAMGd,IANH,CAMQ,SAACC,GAAD,CAAS,CACbV,UAAU,CAACU,GAAG,CAACC,IAAJ,CAAS8B,OAAT,CAAmBZ,IAAI,CAACC,GAAL,EAApB,CAAV,CACAE,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe,CACbC,IAAI,CAAE,sBADO,CAEbC,OAAO,CAAE,kBAFI,CAAf,EAID,CAZH,EAaD,CAjBD,CAmBA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,aAAK,EAAE,CAAC,QAAR,CAAiB,SAAS,CAAC,0BAA3B,wBACE,aAAK,SAAS,CAAC,eAAf,wBACE,oHADF,cAEE,cACE,QAAQ,CAAE,kBAACrB,CAAD,QAAOD,CAAAA,aAAa,CAACC,CAAD,CAApB,EADZ,CAEE,KAAK,CAAE,CAAE2B,OAAO,CAAE,WAAX,CAFT,wBAIE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,qBAAf,uBACE,gBACE,KAAK,CAAEzC,YADT,CAEE,QAAQ,CAAE,kBAACc,CAAD,QAAOb,CAAAA,eAAe,CAACa,CAAC,CAAC4B,MAAF,CAASC,KAAV,CAAtB,EAFZ,CAGE,SAAS,CAAC,iBAHZ,wBAKE,eAAQ,KAAK,CAAC,EAAd,CAAiB,QAAQ,KAAzB,oEALF,CAQG/C,QAAQ,CAACgD,MAAT,CAAkB,CAAlB,EACChD,QAAQ,CAACiD,GAAT,CAAa,SAACC,EAAD,qBACX,eAAqB,KAAK,CAAEA,EAAE,CAACC,aAA/B,UACGD,EAAE,CAACE,YADN,EAAaF,EAAE,CAAChB,GAAhB,CADW,EAAb,CATJ,GADF,EADF,EAJF,cAwBE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,cACE,EAAE,CAAC,cADL,CAEE,IAAI,CAAC,MAFP,CAGE,QAAQ,KAHV,CAIE,SAAS,CAAC,UAJZ,CAKE,KAAK,CAAE5B,eALT,CAME,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,kBAAkB,CAACW,CAAC,CAAC4B,MAAF,CAASC,KAAV,CAAzB,EANZ,EADF,cASE,cAAO,OAAO,CAAC,cAAf,sFATF,GADF,EAxBF,cAsCE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,gCAAf,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,4FADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,KAFV,CAGE,QAAQ,CAAE,kBAAC7B,CAAD,QAAOT,CAAAA,MAAM,CAACS,CAAC,CAAC4B,MAAF,CAASO,KAAT,CAAe,CAAf,CAAD,CAAb,EAHZ,EAFF,GADF,cASE,YAAK,SAAS,CAAC,mBAAf,uBACE,cAAO,SAAS,CAAC,oBAAjB,CAAsC,IAAI,CAAC,MAA3C,EADF,EATF,GADF,EAtCF,cAsDE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,qBAAf,uBACE,eACE,SAAS,CAAC,yDADZ,CAEE,IAAI,CAAC,QAFP,wDADF,EADF,EAtDF,GAFF,GADF,cAqEE,YAAK,SAAS,CAAC,cAAf,EArEF,GADF,cAwEE,KAAC,YAAD,IAxEF,cAyEE,aAAK,SAAS,CAAC,gBAAf,wBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,UAAG,SAAS,CAAC,uBAAb,yGADF,cAEE,eACE,cAAY,QADd,CAEE,SAAS,CAAC,+BAFZ,CAGE,OAAO,CAAE,iBAACnC,CAAD,CAAO,CACd,GAAMoC,CAAAA,IAAI,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,CAAb,CACArB,MAAM,CAACC,CAAP,CAASqB,KAAT,CAAeC,IAAf,CAAoBJ,IAApB,EACD,CANH,+GAFF,GADF,cAeE,eAAO,SAAS,CAAC,SAAjB,wBACE,oCACE,mCACE,8BADF,cAEE,kEAFF,cAGE,gGAHF,cAIE,8EAJF,cAKE,4DALF,cAME,wEANF,cAOE,kEAPF,GADF,EADF,cAaE,uBACGxD,WAAW,CAACkD,MAAZ,CAAqB,CAArB,EACClD,WAAW,CAACmD,GAAZ,CAAgB,SAACC,EAAD,CAAKS,KAAL,qBACd,mCACE,oBAAKA,KAAK,CAAG,CAAb,EADF,cAEE,iCACE,YACE,GAAG,YAAMT,EAAE,CAAC1C,GAAH,CAAOoD,IAAb,CADL,CAEE,MAAM,CAAC,MAFT,CAGE,GAAG,CAAC,cAHN,EADF,EAFF,cASE,oBAAKV,EAAE,CAACnB,eAAR,EATF,cAUE,oBAAKmB,EAAE,CAAClD,QAAR,EAVF,cAWE,oBAAK,GAAIgC,CAAAA,IAAJ,CAASkB,EAAE,CAACW,SAAZ,EAAuBC,YAAvB,EAAL,EAXF,cAYE,iCACE,KAAC,IAAD,EACE,EAAE,8BAAwBZ,EAAE,CAAChB,GAA3B,CADJ,CAEE,SAAS,CAAC,8CAFZ,uBAIE,UAAG,SAAS,CAAC,aAAb,EAJF,EADF,EAZF,cAqBE,iCACE,eACE,OAAO,CAAE,iBAAChB,CAAD,QAAOuB,CAAAA,aAAa,CAACvB,CAAD,CAAIgC,EAAE,CAAChB,GAAP,CAApB,EADX,CAEE,SAAS,CAAC,mDAFZ,uBAIE,UAAG,SAAS,CAAC,cAAb,EAJF,EADF,EArBF,GAASyB,KAAK,CAAG,CAAjB,CADc,EAAhB,CAFJ,EAbF,GAfF,CAgEG7D,WAAW,CAACkD,MAAZ,GAAuB,CAAvB,eAA4B,KAAC,OAAD,IAhE/B,GAzEF,GADF,CA8ID,CAvND,CAyNA,cAAepD,CAAAA,oBAAf","sourcesContent":["import React from \"react\";\nimport AdminSidebar from \"../../Components/AdminSidebar\";\nimport \"./AdminSubCategoryPage.css\";\nimport axios from \"axios\";\nimport Loading from \"../../Components/Loading/Loading\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminSubCategoryPage = () => {\n  const [subcategory, setSubcategory] = React.useState([]);\n  const [category, setCategory] = React.useState([]);\n\n  const [created, setCreated] = React.useState(\"\");\n\n  const [formCategory, setFormCategory] = React.useState(\"\");\n  const [formSubCategory, setFormSubCategory] = React.useState(\"\");\n  const [img, setImg] = React.useState(\"\");\n\n  React.useEffect(() => {\n    axios.get(\"/subcategory\").then((res) => {\n      setSubcategory(res.data);\n      console.log(res.data);\n    });\n  }, [created]);\n\n  React.useEffect(() => {\n    axios.get(\"/category\").then((res) => {\n      setCategory(res.data);\n      console.log(res.data);\n    });\n  }, [created]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    const fd = new FormData();\n\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    fd.append(\"subCategoryName\", formSubCategory);\n    fd.append(\"category\", formCategory);\n    fd.append(\"img\", img);\n\n    axios\n      .post(\"/subcategory\", fd, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        setCreated(res.data.subCategoryName + Date.now());\n        console.log(res.data._id);\n        window.M.toast({ html: \"Подкатегория создана\", classes: \"loginToast\" });\n      })\n      .catch((e) => {\n        window.M.toast({\n          html: \"Подкатегория создана\",\n          classes: \"loginToastRed\",\n        });\n      });\n  };\n\n  const deleteHandler = (e, id) => {\n    console.log(id);\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .delete(`/subcategory/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        setCreated(res.data.message + Date.now());\n        window.M.toast({\n          html: \"Подкатегория удалена\",\n          classes: \"loginToastYellow\",\n        });\n      });\n  };\n\n  return (\n    <div className=\"adminPage\">\n      <div id=\"modal1\" className=\"modal modal-fixed-footer\">\n        <div className=\"modal-content\">\n          <h4>Cоздать категорию</h4>\n          <form\n            onSubmit={(e) => submitHandler(e)}\n            style={{ padding: \"30px 60px\" }}\n          >\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={formCategory}\n                  onChange={(e) => setFormCategory(e.target.value)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Категория\n                  </option>\n                  {category.length > 0 &&\n                    category.map((el) => (\n                      <option key={el._id} value={el._categoryName}>\n                        {el.categoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"categoryName\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={formSubCategory}\n                  onChange={(e) => setFormSubCategory(e.target.value)}\n                />\n                <label htmlFor=\"categoryName\">Подкатегория</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"file-field input-field col s12\">\n                <div className=\"btn\">\n                  <span>Изображения</span>\n                  <input\n                    type=\"file\"\n                    required\n                    onChange={(e) => setImg(e.target.files[0])}\n                  />\n                </div>\n                <div className=\"file-path-wrapper\">\n                  <input className=\"file-path validate\" type=\"text\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button\n                  className=\"btn waves-effect waves-green green btn-flat close-modal\"\n                  type=\"submit\"\n                >\n                  Создать\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n        <div className=\"modal-footer\"></div>\n      </div>\n      <AdminSidebar />\n      <div className=\"adminUsersPage\">\n        <div className=\"adminProductsPageHeader\">\n          <p className=\"adminProductPageTitle\">Все подкатегории</p>\n          <button\n            data-target=\"modal1\"\n            className=\"btn modal-trigger right-align\"\n            onClick={(e) => {\n              const elem = document.querySelectorAll(\".modal\");\n              window.M.Modal.init(elem);\n            }}\n          >\n            Создать категорию\n          </button>\n        </div>\n\n        <table className=\"striped\">\n          <thead>\n            <tr>\n              <th>№</th>\n              <th>Картина</th>\n              <th>Подкатегория</th>\n              <th>Категория</th>\n              <th>Создан</th>\n              <th>Изменить</th>\n              <th>Удалить</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {subcategory.length > 0 &&\n              subcategory.map((el, index) => (\n                <tr key={index + 1}>\n                  <th>{index + 1}</th>\n                  <th>\n                    <img\n                      src={`/${el.img.path}`}\n                      height=\"80px\"\n                      alt=\"categoryname\"\n                    />\n                  </th>\n                  <th>{el.subCategoryName}</th>\n                  <th>{el.category}</th>\n                  <th>{new Date(el.createdAt).toDateString()}</th>\n                  <th>\n                    <Link\n                      to={`/admin/subcategory/${el._id}`}\n                      className=\"btn yellow accent-4 waves-effect waves-light\"\n                    >\n                      <i className=\"fas fa-edit\"></i>\n                    </Link>\n                  </th>\n\n                  <th>\n                    <button\n                      onClick={(e) => deleteHandler(e, el._id)}\n                      className=\"btn deep-orange darken-1 waves-effect waves-light\"\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </th>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n        {subcategory.length === 0 && <Loading />}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSubCategoryPage;\n"]},"metadata":{},"sourceType":"module"}