{"ast":null,"code":"import _slicedToArray from\"/home/akbar/Desktop/salam/final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React from\"react\";import{Link}from\"react-router-dom\";import AdminSidebar from\"../../Components/AdminSidebar\";import\"./AdminOrdersPage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminOrdersPage=function AdminOrdersPage(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),orders=_React$useState2[0],setOrders=_React$useState2[1];React.useEffect(function(){var _JSON$parse=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse.token;axios.get(\"/orders\",{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){console.log(res.data);setOrders(res.data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"adminOrdersPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"adminOrdersPageHeader\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"adminOrdersPageTitle\",children:\"\\u0412\\u0441\\u0435 \\u043F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044B\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{\"data-target\":\"modal1\",className:\"btn modal-trigger right-align\",onClick:function onClick(e){var elem=document.querySelectorAll(\".modal\");window.M.Modal.init(elem);},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u2116\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID \\u0437\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0422\\u0435\\u043B\\u044E \\u043D\\u043E\\u043C\\u0435\\u0440\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0422\\u0438\\u043F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.length>0&&orders.map(function(order,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:index+1}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"black-text\",to:\"/admin/users/\".concat(order.userId),children:order.userId})}),/*#__PURE__*/_jsx(\"th\",{children:order.phone}),/*#__PURE__*/_jsx(\"th\",{children:order.typeSending}),/*#__PURE__*/_jsx(\"th\",{children:new Date(order.createdAt).toDateString()}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{style:{padding:\"10px\",border:\"1px solid\",borderRadius:\"5px\"},className:\"hover-effect\",to:\"/admin/orders/\".concat(order._id),children:\"\\u041E\\u0431\\u0437\\u043E\\u0440\"})}),/*#__PURE__*/_jsxs(\"th\",{children:[order.status===\"новый\"&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#fff\",padding:\"10px\",borderRadius:\"5px\"},className:\"blue lighten-1\",children:order.status}),order.status===\"отправлен\"&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#fff\",padding:\"10px\",borderRadius:\"5px\"},className:\"yellow lighten-1\",children:order.status}),order.status===\"доставлен\"&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#fff\",padding:\"10px\",borderRadius:\"5px\"},className:\"green lighten-1\",children:order.status}),order.status===\"Отменён\"&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#fff\",padding:\"10px\",borderRadius:\"5px\"},className:\"red lighten-1\",children:order.status})]})]},order._id);})})]})]})]});};export default AdminOrdersPage;","map":{"version":3,"sources":["/home/akbar/Desktop/salam/final/client/src/pages/adminpages/AdminOrdersPage.js"],"names":["axios","React","Link","AdminSidebar","AdminOrdersPage","useState","orders","setOrders","useEffect","JSON","parse","localStorage","getItem","token","get","headers","Authorization","then","res","console","log","data","e","elem","document","querySelectorAll","window","M","Modal","init","length","map","order","index","userId","phone","typeSending","Date","createdAt","toDateString","padding","border","borderRadius","_id","status","color"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AdminSidebar from \"../../Components/AdminSidebar\";\nimport \"./AdminOrdersPage.css\";\n\nconst AdminOrdersPage = () => {\n  const [orders, setOrders] = React.useState([]);\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(\"/orders\", { headers: { Authorization: `Bearer ${token}` } })\n      .then((res) => {\n        console.log(res.data);\n\n        setOrders(res.data);\n      });\n  }, []);\n\n  return (\n    <div className=\"adminPage\">\n      <AdminSidebar />\n      <div className=\"adminOrdersPage\">\n        <div className=\"adminOrdersPageHeader\">\n          <p className=\"adminOrdersPageTitle\">Все принятые заказы</p>\n          <button\n            data-target=\"modal1\"\n            className=\"btn modal-trigger right-align\"\n            onClick={(e) => {\n              const elem = document.querySelectorAll(\".modal\");\n              window.M.Modal.init(elem);\n            }}\n          >\n            Создать продукт\n          </button>\n        </div>\n\n        <table className=\"striped\">\n          <thead>\n            <tr>\n              <th>№</th>\n              <th>ID заказчика</th>\n              <th>Телю номер</th>\n              <th>Тип отправки</th>\n              <th>Дата заказа</th>\n              <th></th>\n              <th>Статус</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {orders.length > 0 &&\n              orders.map((order, index) => (\n                <tr key={order._id}>\n                  <th>{index + 1}</th>\n                  <th>\n                    <Link\n                      className=\"black-text\"\n                      to={`/admin/users/${order.userId}`}\n                    >\n                      {order.userId}\n                    </Link>\n                  </th>\n                  <th>{order.phone}</th>\n                  <th>{order.typeSending}</th>\n                  <th>{new Date(order.createdAt).toDateString()}</th>\n                  <th>\n                    <Link\n                      style={{\n                        padding: \"10px\",\n                        border: \"1px solid\",\n                        borderRadius: \"5px\",\n                      }}\n                      className={\"hover-effect\"}\n                      to={`/admin/orders/${order._id}`}\n                    >\n                      Обзор\n                    </Link>\n                  </th>\n                  <th>\n                    {order.status === \"новый\" && (\n                      <span\n                        style={{\n                          color: \"#fff\",\n                          padding: \"10px\",\n                          borderRadius: \"5px\",\n                        }}\n                        className=\"blue lighten-1\"\n                      >\n                        {order.status}\n                      </span>\n                    )}\n\n                    {order.status === \"отправлен\" && (\n                      <span\n                        style={{\n                          color: \"#fff\",\n                          padding: \"10px\",\n                          borderRadius: \"5px\",\n                        }}\n                        className=\"yellow lighten-1\"\n                      >\n                        {order.status}\n                      </span>\n                    )}\n\n                    {order.status === \"доставлен\" && (\n                      <span\n                        style={{\n                          color: \"#fff\",\n                          padding: \"10px\",\n                          borderRadius: \"5px\",\n                        }}\n                        className=\"green lighten-1\"\n                      >\n                        {order.status}\n                      </span>\n                    )}\n\n                    {order.status === \"Отменён\" && (\n                      <span\n                        style={{\n                          color: \"#fff\",\n                          padding: \"10px\",\n                          borderRadius: \"5px\",\n                        }}\n                        className=\"red lighten-1\"\n                      >\n                        {order.status}\n                      </span>\n                    )}\n                  </th>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n        {/* {products.length === 0 && <Loading />} */}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminOrdersPage;\n"]},"metadata":{},"sourceType":"module"}