{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nconst useAuth = () => {\n  _s();\n\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const login = useCallback((token, userId) => {\n    setToken(token);\n    setUserId(userId);\n    localStorage.setItem(\"userData\", JSON.stringify({\n      jwtToken: token,\n      id: userId\n    }));\n  }, []);\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    localStorage.removeItem(\"userData\");\n  }, []);\n  useEffect(() => {\n    const data = JSON.parse(\"userData\");\n\n    if (data && data.token) {\n      login(data.jwtToken, data.id);\n    }\n\n    setLoading(true);\n  }, [login]);\n  return {\n    token,\n    userId,\n    login,\n    logout\n  };\n};\n\n_s(useAuth, \"VayQobHgqFP1Ye+Fn1pdkSRQKUo=\");\n\nexport default useAuth;","map":{"version":3,"sources":["/home/akbar/Desktop/project/client/src/hooks/useAuth.js"],"names":["useState","useEffect","useCallback","useAuth","token","setToken","userId","setUserId","login","localStorage","setItem","JSON","stringify","jwtToken","id","logout","removeItem","data","parse","setLoading"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,IAAD,CAApC;AAEA,QAAMQ,KAAK,GAAGN,WAAW,CAAC,CAACE,KAAD,EAAQE,MAAR,KAAmB;AAC3CD,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAG,IAAAA,SAAS,CAACD,MAAD,CAAT;AAEAG,IAAAA,YAAY,CAACC,OAAb,CACE,UADF,EAEEC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,QAAQ,EAAET,KAAZ;AAAmBU,MAAAA,EAAE,EAAER;AAAvB,KAAf,CAFF;AAID,GARwB,EAQtB,EARsB,CAAzB;AAUA,QAAMS,MAAM,GAAGb,WAAW,CAAC,MAAM;AAC/BG,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,IAAAA,SAAS,CAAC,IAAD,CAAT;AAEAE,IAAAA,YAAY,CAACO,UAAb,CAAwB,UAAxB;AACD,GALyB,EAKvB,EALuB,CAA1B;AAOAf,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,IAAI,GAAGN,IAAI,CAACO,KAAL,CAAW,UAAX,CAAb;;AAEA,QAAID,IAAI,IAAIA,IAAI,CAACb,KAAjB,EAAwB;AACtBI,MAAAA,KAAK,CAACS,IAAI,CAACJ,QAAN,EAAgBI,IAAI,CAACH,EAArB,CAAL;AACD;;AAEDK,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GARQ,EAQN,CAACX,KAAD,CARM,CAAT;AAUA,SAAO;AAAEJ,IAAAA,KAAF;AAASE,IAAAA,MAAT;AAAiBE,IAAAA,KAAjB;AAAwBO,IAAAA;AAAxB,GAAP;AACD,CAhCD;;GAAMZ,O;;AAkCN,eAAeA,OAAf","sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\nconst useAuth = () => {\r\n  const [token, setToken] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n\r\n  const login = useCallback((token, userId) => {\r\n    setToken(token);\r\n    setUserId(userId);\r\n\r\n    localStorage.setItem(\r\n      \"userData\",\r\n      JSON.stringify({ jwtToken: token, id: userId })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUserId(null);\r\n\r\n    localStorage.removeItem(\"userData\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(\"userData\");\r\n\r\n    if (data && data.token) {\r\n      login(data.jwtToken, data.id);\r\n    }\r\n\r\n    setLoading(true);\r\n  }, [login]);\r\n\r\n  return { token, userId, login, logout };\r\n};\r\n\r\nexport default useAuth;\r\n"]},"metadata":{},"sourceType":"module"}