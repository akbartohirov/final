{"ast":null,"code":"import _slicedToArray from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from\"../../../Components/AdminSidebar\";import\"./AdminProductDetailsPage.css\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminProductDetailsPage=function AdminProductDetailsPage(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),link=_React$useState2[0],setLink=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),slide=_React$useState4[0],setSlide=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),img=_React$useState6[0],setImg=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),subSubCategoies=_React$useState8[0],setSubSubCategories=_React$useState8[1];var _useParams=useParams(),id=_useParams.id;React.useEffect(function(){var _JSON$parse=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse.token;axios.get(\"/carousel/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(_ref){var data=_ref.data;setLink(data.link);setSlide(data.slidenum);setImg(data.path);});},[id]);React.useEffect(function(){axios.get(\"/subsubcategory\").then(function(res){setSubSubCategories(res.data);});},[]);var submitHanler=function submitHanler(e){e.preventDefault();var _JSON$parse2=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse2.token;var fd=new FormData();fd.append(\"link\",link);fd.append(\"slidenum\",slide);fd.append(\"img\",img);axios.patch(\"/carousel/\".concat(id),fd,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){console.log(res);window.M.toast({html:\"Слайд изменён\",classes:\"loginToast\"});}).catch(function(e){window.M.toast({html:\"Бренд не изменён\",classes:\"loginToastRed\"});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"adminUsersDetailsPage\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"center-align\",children:\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"col m6 offset-m3\",style:{padding:\"0 2rem\"},onSubmit:function onSubmit(e){return submitHanler(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field col s12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return setImg(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path validate\",type:\"text\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-field input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setSlide(e.target.value);},value:slide,className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:\"\",disabled:true,children:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0441\\u043B\\u0430\\u0439\\u0434\\u0430\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\u0421\\u043B\\u0430\\u0439\\u0434 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"\\u0421\\u043B\\u0430\\u0439\\u0434 2\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"file-field input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setLink(e.target.value);},value:link,className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:\"\",disabled:true,children:\"\\u041A\\u0443\\u0434\\u0430\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u041D\\u0435 \\u043A\\u0443\\u0434\\u0430\"}),subSubCategoies.length&&subSubCategoies.map(function(item,index){return/*#__PURE__*/_jsx(\"option\",{value:item._id,children:item.subSubCategoryName},index);})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-green green btn-flat\",type:\"submit\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})})})]})})]})]});};export default AdminProductDetailsPage;","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/admindetailspage/AdminCarouselDetailsPage.js"],"names":["React","AdminSidebar","axios","useParams","AdminProductDetailsPage","useState","link","setLink","slide","setSlide","img","setImg","subSubCategoies","setSubSubCategories","id","useEffect","JSON","parse","localStorage","getItem","token","get","headers","Authorization","then","data","slidenum","path","res","submitHanler","e","preventDefault","fd","FormData","append","patch","console","log","window","M","toast","html","classes","catch","padding","target","files","value","length","map","item","index","_id","subSubCategoryName"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminProductDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nconst AdminProductDetailsPage = () => {\n  const [link, setLink] = React.useState(\"\");\n  const [slide, setSlide] = React.useState(\"\");\n  const [img, setImg] = React.useState([]);\n  const [subSubCategoies, setSubSubCategories] = React.useState([]);\n\n  const { id } = useParams();\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(`/carousel/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(({ data }) => {\n        setLink(data.link);\n        setSlide(data.slidenum);\n        setImg(data.path);\n      });\n  }, [id]);\n\n  React.useEffect(() => {\n    axios.get(\"/subsubcategory\").then((res) => {\n      setSubSubCategories(res.data);\n    });\n  }, []);\n\n  const submitHanler = (e) => {\n    e.preventDefault();\n\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    const fd = new FormData();\n\n    fd.append(\"link\", link);\n    fd.append(\"slidenum\", slide);\n    fd.append(\"img\", img);\n\n    axios\n      .patch(`/carousel/${id}`, fd, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n        window.M.toast({ html: \"Слайд изменён\", classes: \"loginToast\" });\n      })\n      .catch((e) => {\n        window.M.toast({\n          html: \"Бренд не изменён\",\n          classes: \"loginToastRed\",\n        });\n      });\n  };\n\n  return (\n    <div className=\"adminPage\">\n      <AdminSidebar />\n      <div className=\"adminUsersDetailsPage\">\n        <h4 className=\"center-align\">Данные продукта</h4>\n        <div className=\"row\">\n          <form\n            className=\"col m6 offset-m3\"\n            style={{ padding: \"0 2rem\" }}\n            onSubmit={(e) => submitHanler(e)}\n          >\n            <div className=\"row\">\n              <div className=\"file-field input-field col s12\">\n                <div className=\"btn\">\n                  <span>Изображения</span>\n                  <input\n                    type=\"file\"\n                    onChange={(e) => setImg(e.target.files[0])}\n                  />\n                </div>\n                <div className=\"file-path-wrapper\">\n                  <input className=\"file-path validate\" type=\"text\" />\n                </div>\n              </div>\n\n              <div className=\"file-field input-field col s12\">\n                <select\n                  onChange={(e) => setSlide(e.target.value)}\n                  value={slide}\n                  className=\"browser-default\"\n                >\n                  <option defaultValue=\"\" disabled>\n                    Номер слайда\n                  </option>\n                  <option value=\"1\">Слайд 1</option>\n                  <option value=\"2\">Слайд 2</option>\n                </select>\n              </div>\n\n              <div className=\"file-field input-field col s12\">\n                <select\n                  onChange={(e) => setLink(e.target.value)}\n                  value={link}\n                  className=\"browser-default\"\n                >\n                  <option defaultValue=\"\" disabled>\n                    Куда\n                  </option>\n                  <option value=\"\">Не куда</option>\n                  {subSubCategoies.length &&\n                    subSubCategoies.map((item, index) => (\n                      <option key={index} value={item._id}>\n                        {item.subSubCategoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button\n                  className=\"btn waves-effect waves-green green btn-flat\"\n                  type=\"submit\"\n                >\n                  Сохранить\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminProductDetailsPage;\n"]},"metadata":{},"sourceType":"module"}