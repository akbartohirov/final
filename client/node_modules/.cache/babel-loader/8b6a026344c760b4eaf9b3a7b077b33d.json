{"ast":null,"code":"var _jsxFileName = \"/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/admindetailspage/AdminSubSubCategoryDetailsPage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; // import AdminSidebar from \"../../../Components/\";\n\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminSubCategoryDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminSubUserDetailsPage = () => {\n  _s();\n\n  const [categories, setCategories] = React.useState([]);\n  const [subCategories, setSubCategories] = React.useState([]);\n  const [filteredSubCategories, setFilteredSubCategories] = React.useState([]);\n  const [subSubCategoryName, setSubSubCategoryName] = React.useState(\"\");\n  const [subCategoryName, setSubCategoryName] = React.useState(\"\");\n  const [categoryName, setCategoryName] = React.useState(\"\");\n  const {\n    id\n  } = useParams();\n  React.useEffect(() => {\n    const {\n      token\n    } = JSON.parse(localStorage.getItem(\"userData\"));\n    axios.get(`/subsubcategory/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(({\n      data\n    }) => {\n      subSubCategoryName(data.subCategoryName);\n      subCategoryName(data.subCategory);\n      categoryName(data.category);\n    });\n  }, [id, subSubCategoryName, subCategoryName, categoryName]);\n  React.useEffect(() => {\n    axios.get(`/category`).then(({\n      data\n    }) => {\n      setCategories(data);\n    });\n  }, [id]);\n  React.useEffect(() => {\n    axios.get(`/subcategory`).then(({\n      data\n    }) => {\n      setSubCategories(data);\n    });\n  }, [id]);\n\n  const submitHanler = e => {\n    const {\n      token\n    } = JSON.parse(localStorage.getItem(\"userData\"));\n    e.preventDefault();\n    axios.patch(`/subcategory/${id}`, fd, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      window.M.toast({\n        html: \"Имзменения сохранени\",\n        classes: \"loginToast\"\n      });\n    }).catch(e => {\n      window.M.toast({\n        html: e.message,\n        classes: \"loginToastRed\"\n      });\n    });\n  };\n\n  const categoryHandler = e => {\n    setCategoryName(e.target.value);\n    const filteredSubCategories = subCategories.filter(el => el.category === e.target.value);\n    setFilteredSubCategories(filteredSubCategories);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"adminPage\",\n    children: [/*#__PURE__*/_jsxDEV(AdminSidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminUsersDetailsPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"center-align\",\n        children: \"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"col m6 offset-m3\",\n          onSubmit: e => submitHanler(e),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: categoryName,\n                onChange: e => setCategoryName(e.target.value),\n                className: \"browser-default\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this), categories.length > 0 && categories.map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: el._categoryName,\n                  children: el.categoryName\n                }, el._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: categoryName,\n                onChange: e => categoryHandler(e),\n                className: \"browser-default\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this), categories.length > 0 && categories.map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: el._categoryName,\n                  children: el.categoryName\n                }, el._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"categoryName\",\n                type: \"text\",\n                required: true,\n                className: \"validate\",\n                value: subSubCategoryName,\n                onChange: e => setSubSubCategoryName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"categoryName\",\n                children: \"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-field input-field col s12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  required: true,\n                  onChange: e => setImg(e.target.files[0])\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-path-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"file-path validate\",\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                type: \"submit\",\n                children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminSubUserDetailsPage, \"hvp3aOXg/NhvPOi6taf5QOH0eXE=\", false, function () {\n  return [useParams];\n});\n\n_c = AdminSubUserDetailsPage;\nexport default AdminSubUserDetailsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminSubUserDetailsPage\");","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/admindetailspage/AdminSubSubCategoryDetailsPage.js"],"names":["React","AdminSidebar","axios","useParams","AdminSubUserDetailsPage","categories","setCategories","useState","subCategories","setSubCategories","filteredSubCategories","setFilteredSubCategories","subSubCategoryName","setSubSubCategoryName","subCategoryName","setSubCategoryName","categoryName","setCategoryName","id","useEffect","token","JSON","parse","localStorage","getItem","get","headers","Authorization","then","data","subCategory","category","submitHanler","e","preventDefault","patch","fd","res","window","M","toast","html","classes","catch","message","categoryHandler","target","value","filter","el","length","map","_categoryName","_id","setImg","files"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminSubCategoryDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nconst AdminSubUserDetailsPage = () => {\n  const [categories, setCategories] = React.useState([]);\n  const [subCategories, setSubCategories] = React.useState([]);\n  const [filteredSubCategories, setFilteredSubCategories] = React.useState([]);\n\n  const [subSubCategoryName, setSubSubCategoryName] = React.useState(\"\");\n  const [subCategoryName, setSubCategoryName] = React.useState(\"\");\n  const [categoryName, setCategoryName] = React.useState(\"\");\n  const { id } = useParams();\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(`/subsubcategory/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(({ data }) => {\n        subSubCategoryName(data.subCategoryName);\n        subCategoryName(data.subCategory);\n        categoryName(data.category);\n      });\n  }, [id, subSubCategoryName, subCategoryName, categoryName]);\n\n  React.useEffect(() => {\n    axios.get(`/category`).then(({ data }) => {\n      setCategories(data);\n    });\n  }, [id]);\n\n  React.useEffect(() => {\n    axios.get(`/subcategory`).then(({ data }) => {\n      setSubCategories(data);\n    });\n  }, [id]);\n\n  const submitHanler = (e) => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    e.preventDefault();\n\n    axios\n      .patch(`/subcategory/${id}`, fd, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        window.M.toast({ html: \"Имзменения сохранени\", classes: \"loginToast\" });\n      })\n      .catch((e) => {\n        window.M.toast({ html: e.message, classes: \"loginToastRed\" });\n      });\n  };\n\n  const categoryHandler = (e) => {\n    setCategoryName(e.target.value);\n    const filteredSubCategories = subCategories.filter(\n      (el) => el.category === e.target.value\n    );\n    setFilteredSubCategories(filteredSubCategories);\n  };\n\n  return (\n    <div className=\"adminPage\">\n      <AdminSidebar />\n      <div className=\"adminUsersDetailsPage\">\n        <h4 className=\"center-align\">Подподкатегория</h4>\n        <div className=\"row\">\n          <form className=\"col m6 offset-m3\" onSubmit={(e) => submitHanler(e)}>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={categoryName}\n                  onChange={(e) => setCategoryName(e.target.value)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Категория\n                  </option>\n                  {categories.length > 0 &&\n                    categories.map((el) => (\n                      <option key={el._id} value={el._categoryName}>\n                        {el.categoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={categoryName}\n                  onChange={(e) => categoryHandler(e)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Подкатегория\n                  </option>\n                  {categories.length > 0 &&\n                    categories.map((el) => (\n                      <option key={el._id} value={el._categoryName}>\n                        {el.categoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"categoryName\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={subSubCategoryName}\n                  onChange={(e) => setSubSubCategoryName(e.target.value)}\n                />\n                <label htmlFor=\"categoryName\">Подподкатегория</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"file-field input-field col s12\">\n                <div className=\"btn\">\n                  <span>Изображения</span>\n                  <input\n                    type=\"file\"\n                    required\n                    onChange={(e) => setImg(e.target.files[0])}\n                  />\n                </div>\n                <div className=\"file-path-wrapper\">\n                  <input className=\"file-path validate\" type=\"text\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button className=\"btn\" type=\"submit\">\n                  Сохранить\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSubUserDetailsPage;\n"]},"metadata":{},"sourceType":"module"}