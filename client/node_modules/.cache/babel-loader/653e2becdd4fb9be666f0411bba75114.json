{"ast":null,"code":"import _toConsumableArray from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import AdminSidebar from\"../../Components/AdminSidebar\";import\"./AdminProductsPage.css\";import Loading from\"../../Components/Loading/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminProductsPage=function AdminProductsPage(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),categories=_React$useState2[0],setCategories=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),subCategories=_React$useState4[0],setSubCategories=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),subSubcategories=_React$useState6[0],setSubSubCategories=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),brands=_React$useState8[0],setBrands=_React$useState8[1];//create product\nvar _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),title=_React$useState10[0],setTitle=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),category=_React$useState12[0],setCategory=_React$useState12[1];var _React$useState13=React.useState(\"\"),_React$useState14=_slicedToArray(_React$useState13,2),subCategory=_React$useState14[0],setSubCategory=_React$useState14[1];var _React$useState15=React.useState(\"\"),_React$useState16=_slicedToArray(_React$useState15,2),subSubCategory=_React$useState16[0],setSubSubCategory=_React$useState16[1];var _React$useState17=React.useState(\"\"),_React$useState18=_slicedToArray(_React$useState17,2),brand=_React$useState18[0],setBrand=_React$useState18[1];var _React$useState19=React.useState(\"\"),_React$useState20=_slicedToArray(_React$useState19,2),description=_React$useState20[0],setDescription=_React$useState20[1];var _React$useState21=React.useState(\"\"),_React$useState22=_slicedToArray(_React$useState21,2),color=_React$useState22[0],setColor=_React$useState22[1];var _React$useState23=React.useState(\"\"),_React$useState24=_slicedToArray(_React$useState23,2),sellPrice=_React$useState24[0],setSellPrice=_React$useState24[1];var _React$useState25=React.useState(\"\"),_React$useState26=_slicedToArray(_React$useState25,2),boughtPrice=_React$useState26[0],setBoughtPrice=_React$useState26[1];var _React$useState27=React.useState(\"\"),_React$useState28=_slicedToArray(_React$useState27,2),amount=_React$useState28[0],setAmount=_React$useState28[1];var _React$useState29=React.useState([]),_React$useState30=_slicedToArray(_React$useState29,2),img=_React$useState30[0],setImg=_React$useState30[1];//display product\nvar _React$useState31=React.useState([]),_React$useState32=_slicedToArray(_React$useState31,2),products=_React$useState32[0],setProducts=_React$useState32[1];var _React$useState33=React.useState(\"\"),_React$useState34=_slicedToArray(_React$useState33,2),deletedProduct=_React$useState34[0],setDeletedProduct=_React$useState34[1];React.useEffect(function(){axios.get(\"/category\").then(function(res){setCategories(res.data);});},[]);React.useEffect(function(){axios.get(\"/subcategory\").then(function(res){setSubCategories(res.data);});},[]);React.useEffect(function(){axios.get(\"/subsubcategory\").then(function(res){setSubSubCategories(res.data);});},[]);React.useEffect(function(){axios.get(\"/brand\").then(function(res){setBrands(res.data);});},[]);React.useEffect(function(){var _JSON$parse=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse.token;axios.get(\"/products\",{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(_ref){var data=_ref.data;setProducts(data);});setDeletedProduct(\"\");},[deletedProduct]);var deleteHandler=function deleteHandler(e,id){var _JSON$parse2=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse2.token;if(window.confirm(\"Вы уверены?\")){axios.delete(\"/products/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(_ref2){var data=_ref2.data;setDeletedProduct(data);window.M.toast({html:\"Продукт удалён\",classes:\"loginToastYellow\"});});}};var submitHanler=function submitHanler(e){e.preventDefault();var _JSON$parse3=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse3.token;var formData=new FormData();formData.append(\"title\",title);formData.append(\"category\",category);formData.append(\"subCategory\",subCategory);formData.append(\"subSubCategory\",subSubCategory);formData.append(\"brand\",brand);formData.append(\"description\",description);formData.append(\"color\",color);formData.append(\"sellPrice\",sellPrice);formData.append(\"boughtPrice\",boughtPrice);formData.append(\"amount\",amount);img.length>0&&img.map(function(el){return formData.append(\"img\",el);});axios.post(\"/products\",formData,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}}).then(function(res){window.M.toast({html:\"Продукт создан\",classes:\"loginToast\"});setTitle(\"\");setBrand(\"\");setCategory(\"\");setSubCategory(\"\");setSubSubCategory(\"\");setDescription(\"\");setColor(\"\");setSellPrice(\"\");setBoughtPrice(\"\");setAmount(\"\");setImg([]);setDeletedProduct(res.data);}).catch(function(e){window.M.toast({html:e.message,classes:\"loginToastRed\"});});};var filteredSubCategories=category&&subCategories.filter(function(el){return el.category===category;});var filteredSubSubCategories=subCategory&&subSubcategories.filter(function(el){return el.subCategory===subCategory;});return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"modal1\",className:\"modal modal-fixed-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"C\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"col m6 offset-m3\",style:{padding:\"0 2rem\"},onSubmit:function onSubmit(e){return submitHanler(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:function onChange(e){return setCategory(e.target.value);},className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),categories.length>0&&categories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.categoryName,children:el.categoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:subCategory,onChange:function onChange(e){return setSubCategory(e.target.value);},className:\"browser-default\",disabled:category?false:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),filteredSubCategories.length>0&&filteredSubCategories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.subCategoryName,children:el.subCategoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:subSubCategory,onChange:function onChange(e){return setSubSubCategory(e.target.value);},className:\"browser-default\",disabled:subCategory?false:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),filteredSubSubCategories.length>0&&filteredSubSubCategories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.subSubCategoryName,children:el.subSubCategoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:brand,onChange:function onChange(e){return setBrand(e.target.value);},className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u0411\\u0440\\u0435\\u043D\\u0434\"}),brands.length>0&&brands.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.brandName,children:el.brandName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",required:true,className:\"validate\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field colorcol s12\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",type:\"text\",required:true,className:\"validate materialize-textarea\",\"data-length\":\"120\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"color\",type:\"text\",required:true,className:\"validate\",value:color,onChange:function onChange(e){return setColor(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"color\",children:\"\\u0426\\u0432\\u0435\\u0442\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"sellPrice\",type:\"number\",required:true,className:\"validate\",value:sellPrice,onChange:function onChange(e){return setSellPrice(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sellPrice\",children:\"\\u0426\\u0435\\u043D\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"boughtPrice\",type:\"number\",required:true,className:\"validate\",value:boughtPrice,onChange:function onChange(e){return setBoughtPrice(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"boughtPrice\",children:\"\\u0426\\u0435\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0438\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"amount\",type:\"text\",required:true,className:\"validate\",value:amount,onChange:function onChange(e){return setAmount(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field col s12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",required:true,multiple:true,onChange:function onChange(e){return setImg(_toConsumableArray(e.target.files));}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path validate\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-green green btn-flat\",type:\"submit\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\"})]}),/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"adminProductsPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"adminProductsPageHeader\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"adminProductPageTitle\",children:\"\\u0412\\u0441\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{\"data-target\":\"modal1\",className:\"btn modal-trigger right-align\",onClick:function onClick(e){var elem=document.querySelectorAll(\".modal\");window.M.Modal.init(elem);},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u2116\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0422\\u043E\\u0432\\u0430\\u0440\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0411\\u0440\\u0435\\u043D\\u0434\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0446\\u0435\\u043D\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0446\\u0435\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u044B\\u0445\\u043E\\u0434\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.length>0&&products.map(function(product,index){var _product$img$;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:index+1}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"50px\"},src:\"/\".concat((_product$img$=product.img[0])===null||_product$img$===void 0?void 0:_product$img$.path),alt:product.title})}),/*#__PURE__*/_jsx(\"th\",{children:product.category}),/*#__PURE__*/_jsx(\"th\",{children:product.subCategory}),/*#__PURE__*/_jsx(\"th\",{children:product.subSubCategory}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"black-text hover-effect\",to:\"/product/\".concat(product._id),children:product.title})}),/*#__PURE__*/_jsx(\"th\",{children:product.brand}),/*#__PURE__*/_jsx(\"th\",{children:product.boughtPrice}),/*#__PURE__*/_jsx(\"th\",{children:product.sellPrice}),/*#__PURE__*/_jsx(\"th\",{children:product.amount}),/*#__PURE__*/_jsx(\"th\",{children:new Intl.DateTimeFormat(\"ru-RU\").format(new Date(product.createdAt))}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/products/\".concat(product._id),className:\"btn yellow accent-4 waves-effect waves-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deleteHandler(e,product._id);},className:\"btn deep-orange darken-1 waves-effect waves-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]},index+1);})})]}),products.length===0&&/*#__PURE__*/_jsx(Loading,{})]})]});};export default AdminProductsPage;","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/AdminProductsPage.js"],"names":["React","Link","axios","AdminSidebar","Loading","AdminProductsPage","useState","categories","setCategories","subCategories","setSubCategories","subSubcategories","setSubSubCategories","brands","setBrands","title","setTitle","category","setCategory","subCategory","setSubCategory","subSubCategory","setSubSubCategory","brand","setBrand","description","setDescription","color","setColor","sellPrice","setSellPrice","boughtPrice","setBoughtPrice","amount","setAmount","img","setImg","products","setProducts","deletedProduct","setDeletedProduct","useEffect","get","then","res","data","JSON","parse","localStorage","getItem","token","headers","Authorization","deleteHandler","e","id","window","confirm","delete","M","toast","html","classes","submitHanler","preventDefault","formData","FormData","append","length","map","el","post","catch","message","filteredSubCategories","filter","filteredSubSubCategories","padding","target","value","categoryName","_id","subCategoryName","subSubCategoryName","brandName","files","elem","document","querySelectorAll","Modal","init","product","index","width","path","Intl","DateTimeFormat","format","Date","createdAt"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport AdminSidebar from \"../../Components/AdminSidebar\";\nimport \"./AdminProductsPage.css\";\nimport Loading from \"../../Components/Loading/Loading\";\n\nconst AdminProductsPage = () => {\n  const [categories, setCategories] = React.useState([]);\n  const [subCategories, setSubCategories] = React.useState([]);\n  const [subSubcategories, setSubSubCategories] = React.useState([]);\n  const [brands, setBrands] = React.useState([]);\n\n  //create product\n  const [title, setTitle] = React.useState(\"\");\n  const [category, setCategory] = React.useState(\"\");\n  const [subCategory, setSubCategory] = React.useState(\"\");\n  const [subSubCategory, setSubSubCategory] = React.useState(\"\");\n  const [brand, setBrand] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [color, setColor] = React.useState(\"\");\n  const [sellPrice, setSellPrice] = React.useState(\"\");\n  const [boughtPrice, setBoughtPrice] = React.useState(\"\");\n  const [amount, setAmount] = React.useState(\"\");\n  const [img, setImg] = React.useState([]);\n\n  //display product\n  const [products, setProducts] = React.useState([]);\n  const [deletedProduct, setDeletedProduct] = React.useState(\"\");\n\n  React.useEffect(() => {\n    axios.get(\"/category\").then((res) => {\n      setCategories(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    axios.get(\"/subcategory\").then((res) => {\n      setSubCategories(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    axios.get(\"/subsubcategory\").then((res) => {\n      setSubSubCategories(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    axios.get(\"/brand\").then((res) => {\n      setBrands(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(\"/products\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(({ data }) => {\n        setProducts(data);\n      });\n    setDeletedProduct(\"\");\n  }, [deletedProduct]);\n\n  const deleteHandler = (e, id) => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    if (window.confirm(\"Вы уверены?\")) {\n      axios\n        .delete(`/products/${id}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        })\n        .then(({ data }) => {\n          setDeletedProduct(data);\n          window.M.toast({\n            html: \"Продукт удалён\",\n            classes: \"loginToastYellow\",\n          });\n        });\n    }\n  };\n\n  const submitHanler = (e) => {\n    e.preventDefault();\n\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    const formData = new FormData();\n\n    formData.append(\"title\", title);\n    formData.append(\"category\", category);\n    formData.append(\"subCategory\", subCategory);\n    formData.append(\"subSubCategory\", subSubCategory);\n    formData.append(\"brand\", brand);\n    formData.append(\"description\", description);\n    formData.append(\"color\", color);\n    formData.append(\"sellPrice\", sellPrice);\n    formData.append(\"boughtPrice\", boughtPrice);\n    formData.append(\"amount\", amount);\n    img.length > 0 && img.map((el) => formData.append(\"img\", el));\n\n    axios\n      .post(\"/products\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        window.M.toast({ html: \"Продукт создан\", classes: \"loginToast\" });\n\n        setTitle(\"\");\n        setBrand(\"\");\n        setCategory(\"\");\n        setSubCategory(\"\");\n        setSubSubCategory(\"\");\n        setDescription(\"\");\n        setColor(\"\");\n        setSellPrice(\"\");\n        setBoughtPrice(\"\");\n        setAmount(\"\");\n        setImg([]);\n\n        setDeletedProduct(res.data);\n      })\n      .catch((e) => {\n        window.M.toast({ html: e.message, classes: \"loginToastRed\" });\n      });\n  };\n\n  const filteredSubCategories =\n    category && subCategories.filter((el) => el.category === category);\n\n  const filteredSubSubCategories =\n    subCategory &&\n    subSubcategories.filter((el) => el.subCategory === subCategory);\n\n  return (\n    <div className=\"adminPage\">\n      <div id=\"modal1\" className=\"modal modal-fixed-footer\">\n        <div className=\"modal-content\">\n          <h4>Cоздать продукт</h4>\n          <form\n            className=\"col m6 offset-m3\"\n            style={{ padding: \"0 2rem\" }}\n            onSubmit={(e) => submitHanler(e)}\n          >\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={category}\n                  onChange={(e) => setCategory(e.target.value)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Категория\n                  </option>\n                  {categories.length > 0 &&\n                    categories.map((el) => (\n                      <option key={el._id} value={el.categoryName}>\n                        {el.categoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={subCategory}\n                  onChange={(e) => setSubCategory(e.target.value)}\n                  className=\"browser-default\"\n                  disabled={category ? false : true}\n                >\n                  <option value=\"\" disabled>\n                    Подкатегория\n                  </option>\n                  {filteredSubCategories.length > 0 &&\n                    filteredSubCategories.map((el) => (\n                      <option key={el._id} value={el.subCategoryName}>\n                        {el.subCategoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={subSubCategory}\n                  onChange={(e) => setSubSubCategory(e.target.value)}\n                  className=\"browser-default\"\n                  disabled={subCategory ? false : true}\n                >\n                  <option value=\"\" disabled>\n                    Подподкатегория\n                  </option>\n                  {filteredSubSubCategories.length > 0 &&\n                    filteredSubSubCategories.map((el) => (\n                      <option key={el._id} value={el.subSubCategoryName}>\n                        {el.subSubCategoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={brand}\n                  onChange={(e) => setBrand(e.target.value)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Бренд\n                  </option>\n                  {brands.length > 0 &&\n                    brands.map((el) => (\n                      <option key={el._id} value={el.brandName}>\n                        {el.brandName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"title\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                />\n                <label htmlFor=\"title\">Название товара</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field colorcol s12\">\n                <textarea\n                  id=\"description\"\n                  type=\"text\"\n                  required\n                  className=\"validate materialize-textarea\"\n                  data-length=\"120\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n                <label htmlFor=\"description\">Описание</label>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"color\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={color}\n                  onChange={(e) => setColor(e.target.value)}\n                />\n                <label htmlFor=\"color\">Цвет</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"sellPrice\"\n                  type=\"number\"\n                  required\n                  className=\"validate\"\n                  value={sellPrice}\n                  onChange={(e) => setSellPrice(e.target.value)}\n                />\n                <label htmlFor=\"sellPrice\">Цена покупки</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"boughtPrice\"\n                  type=\"number\"\n                  required\n                  className=\"validate\"\n                  value={boughtPrice}\n                  onChange={(e) => setBoughtPrice(e.target.value)}\n                />\n                <label htmlFor=\"boughtPrice\">Цена продажи</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"amount\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={amount}\n                  onChange={(e) => setAmount(e.target.value)}\n                />\n                <label htmlFor=\"amount\">Количество</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"file-field input-field col s12\">\n                <div className=\"btn\">\n                  <span>Изображения</span>\n                  <input\n                    type=\"file\"\n                    required\n                    multiple\n                    onChange={(e) => setImg([...e.target.files])}\n                  />\n                </div>\n                <div className=\"file-path-wrapper\">\n                  <input className=\"file-path validate\" type=\"text\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button\n                  className=\"btn waves-effect waves-green green btn-flat\"\n                  type=\"submit\"\n                >\n                  Создать\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n        <div className=\"modal-footer\"></div>\n      </div>\n      <AdminSidebar />\n      <div className=\"adminProductsPage\">\n        <div className=\"adminProductsPageHeader\">\n          <p className=\"adminProductPageTitle\">Все продукты</p>\n          <button\n            data-target=\"modal1\"\n            className=\"btn modal-trigger right-align\"\n            onClick={(e) => {\n              const elem = document.querySelectorAll(\".modal\");\n              window.M.Modal.init(elem);\n            }}\n          >\n            Создать продукт\n          </button>\n        </div>\n\n        <table className=\"striped\">\n          <thead>\n            <tr>\n              <th>№</th>\n              <th>Товар</th>\n              <th>Категория</th>\n              <th>Подкатегория</th>\n              <th>Подподкатегория</th>\n              <th>Название товара</th>\n              <th>Бренд</th>\n              <th>цена покупки</th>\n              <th>цена продажи</th>\n              <th>Количество</th>\n              <th>Дата выхода товара</th>\n              <th>Изменить</th>\n              <th>Удалить</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {products.length > 0 &&\n              products.map((product, index) => (\n                <tr key={index + 1}>\n                  <th>{index + 1}</th>\n                  <th>\n                    <img\n                      style={{ width: \"50px\" }}\n                      src={`/${product.img[0]?.path}`}\n                      alt={product.title}\n                    />\n                  </th>\n                  <th>{product.category}</th>\n                  <th>{product.subCategory}</th>\n                  <th>{product.subSubCategory}</th>\n                  <th>\n                    <Link\n                      className=\"black-text hover-effect\"\n                      to={`/product/${product._id}`}\n                    >\n                      {product.title}\n                    </Link>\n                  </th>\n                  <th>{product.brand}</th>\n                  <th>{product.boughtPrice}</th>\n                  <th>{product.sellPrice}</th>\n                  <th>{product.amount}</th>\n                  <th>\n                    {new Intl.DateTimeFormat(\"ru-RU\").format(\n                      new Date(product.createdAt)\n                    )}\n                  </th>\n                  <th>\n                    <Link\n                      to={`/admin/products/${product._id}`}\n                      className=\"btn yellow accent-4 waves-effect waves-light\"\n                    >\n                      <i className=\"fas fa-edit\"></i>\n                    </Link>\n                  </th>\n                  <th>\n                    <button\n                      onClick={(e) => deleteHandler(e, product._id)}\n                      className=\"btn deep-orange darken-1 waves-effect waves-light\"\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </th>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n        {products.length === 0 && <Loading />}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminProductsPage;\n"]},"metadata":{},"sourceType":"module"}