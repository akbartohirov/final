{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nconst useAuth = () => {\n  _s();\n\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const login = useCallback((token, userId) => {\n    setToken(token);\n    setUserId(userId);\n    localStorage.setItem(\"userData\", JSON.stringify({\n      jwtToken: token,\n      id: userId\n    }));\n  }, []);\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    localStorage.removeItem(\"userData\");\n  }, []);\n  useEffect(() => {\n    const data = JSON.parse(\"userData\");\n\n    if (data && data.token) {\n      login(data.jwtToken, data.id);\n    }\n\n    setLoading(true);\n  }, [login]);\n  return {\n    token,\n    userId,\n    login,\n    logout,\n    loading\n  };\n};\n\n_s(useAuth, \"iMifbfrrG0x2rFOAxkuB/daa690=\");\n\nexport default useAuth;","map":{"version":3,"sources":["/home/akbar/Desktop/project/client/src/hooks/useAuth.js"],"names":["useState","useEffect","useCallback","useAuth","token","setToken","userId","setUserId","loading","setLoading","login","localStorage","setItem","JSON","stringify","jwtToken","id","logout","removeItem","data","parse"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAMU,KAAK,GAAGR,WAAW,CAAC,CAACE,KAAD,EAAQE,MAAR,KAAmB;AAC3CD,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAG,IAAAA,SAAS,CAACD,MAAD,CAAT;AAEAK,IAAAA,YAAY,CAACC,OAAb,CACE,UADF,EAEEC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,QAAQ,EAAEX,KAAZ;AAAmBY,MAAAA,EAAE,EAAEV;AAAvB,KAAf,CAFF;AAID,GARwB,EAQtB,EARsB,CAAzB;AAUA,QAAMW,MAAM,GAAGf,WAAW,CAAC,MAAM;AAC/BG,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,IAAAA,SAAS,CAAC,IAAD,CAAT;AAEAI,IAAAA,YAAY,CAACO,UAAb,CAAwB,UAAxB;AACD,GALyB,EAKvB,EALuB,CAA1B;AAOAjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,IAAI,GAAGN,IAAI,CAACO,KAAL,CAAW,UAAX,CAAb;;AAEA,QAAID,IAAI,IAAIA,IAAI,CAACf,KAAjB,EAAwB;AACtBM,MAAAA,KAAK,CAACS,IAAI,CAACJ,QAAN,EAAgBI,IAAI,CAACH,EAArB,CAAL;AACD;;AAEDP,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GARQ,EAQN,CAACC,KAAD,CARM,CAAT;AAUA,SAAO;AAAEN,IAAAA,KAAF;AAASE,IAAAA,MAAT;AAAiBI,IAAAA,KAAjB;AAAwBO,IAAAA,MAAxB;AAAgCT,IAAAA;AAAhC,GAAP;AACD,CAjCD;;GAAML,O;;AAmCN,eAAeA,OAAf","sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\nconst useAuth = () => {\r\n  const [token, setToken] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const login = useCallback((token, userId) => {\r\n    setToken(token);\r\n    setUserId(userId);\r\n\r\n    localStorage.setItem(\r\n      \"userData\",\r\n      JSON.stringify({ jwtToken: token, id: userId })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUserId(null);\r\n\r\n    localStorage.removeItem(\"userData\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(\"userData\");\r\n\r\n    if (data && data.token) {\r\n      login(data.jwtToken, data.id);\r\n    }\r\n\r\n    setLoading(true);\r\n  }, [login]);\r\n\r\n  return { token, userId, login, logout, loading };\r\n};\r\n\r\nexport default useAuth;\r\n"]},"metadata":{},"sourceType":"module"}