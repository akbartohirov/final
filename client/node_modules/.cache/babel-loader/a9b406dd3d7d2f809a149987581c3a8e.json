{"ast":null,"code":"import _toConsumableArray from\"/home/akbar/Desktop/salam/final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/akbar/Desktop/salam/final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import AdminSidebar from\"../../Components/AdminSidebar\";import\"./AdminProductsPage.css\";import Loading from\"../../Components/Loading/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminOnlyProductPage=function AdminOnlyProductPage(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),categories=_React$useState2[0],setCategories=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),subCategories=_React$useState4[0],setSubCategories=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),subSubcategories=_React$useState6[0],setSubSubCategories=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),brands=_React$useState8[0],setBrands=_React$useState8[1];//create product\nvar _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),title=_React$useState10[0],setTitle=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),category=_React$useState12[0],setCategory=_React$useState12[1];var _React$useState13=React.useState(\"\"),_React$useState14=_slicedToArray(_React$useState13,2),subCategory=_React$useState14[0],setSubCategory=_React$useState14[1];var _React$useState15=React.useState(\"\"),_React$useState16=_slicedToArray(_React$useState15,2),subSubCategory=_React$useState16[0],setSubSubCategory=_React$useState16[1];var _React$useState17=React.useState(\"\"),_React$useState18=_slicedToArray(_React$useState17,2),brand=_React$useState18[0],setBrand=_React$useState18[1];var _React$useState19=React.useState(\"\"),_React$useState20=_slicedToArray(_React$useState19,2),description=_React$useState20[0],setDescription=_React$useState20[1];var _React$useState21=React.useState(\"\"),_React$useState22=_slicedToArray(_React$useState21,2),color=_React$useState22[0],setColor=_React$useState22[1];var _React$useState23=React.useState(\"\"),_React$useState24=_slicedToArray(_React$useState23,2),sellPrice=_React$useState24[0],setSellPrice=_React$useState24[1];var _React$useState25=React.useState(\"\"),_React$useState26=_slicedToArray(_React$useState25,2),boughtPrice=_React$useState26[0],setBoughtPrice=_React$useState26[1];var _React$useState27=React.useState(\"\"),_React$useState28=_slicedToArray(_React$useState27,2),amount=_React$useState28[0],setAmount=_React$useState28[1];var _React$useState29=React.useState([]),_React$useState30=_slicedToArray(_React$useState29,2),img=_React$useState30[0],setImg=_React$useState30[1];//display product\nvar _React$useState31=React.useState([]),_React$useState32=_slicedToArray(_React$useState31,2),products=_React$useState32[0],setProducts=_React$useState32[1];var _React$useState33=React.useState(\"\"),_React$useState34=_slicedToArray(_React$useState33,2),deletedProduct=_React$useState34[0],setDeletedProduct=_React$useState34[1];React.useEffect(function(){axios.get(\"/category\").then(function(res){setCategories(res.data);});},[]);React.useEffect(function(){axios.get(\"/subcategory\").then(function(res){setSubCategories(res.data);});},[]);React.useEffect(function(){axios.get(\"/subsubcategory\").then(function(res){setSubSubCategories(res.data);});},[]);React.useEffect(function(){axios.get(\"/brand\").then(function(res){setBrands(res.data);});},[]);React.useEffect(function(){var _JSON$parse=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse.token;axios.get(\"/products\",{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(_ref){var data=_ref.data;setProducts(data);});setDeletedProduct(\"\");},[deletedProduct]);var submitHanler=function submitHanler(e){e.preventDefault();var _JSON$parse2=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse2.token;var formData=new FormData();formData.append(\"title\",title);formData.append(\"category\",category);formData.append(\"subCategory\",subCategory);formData.append(\"subSubCategory\",subSubCategory);formData.append(\"brand\",brand);formData.append(\"description\",description);formData.append(\"color\",color);formData.append(\"sellPrice\",sellPrice);formData.append(\"boughtPrice\",boughtPrice);formData.append(\"amount\",amount);img.length>0&&img.map(function(el){return formData.append(\"img\",el);});axios.post(\"/products\",formData,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}}).then(function(res){window.M.toast({html:\"Продукт создан\",classes:\"loginToast\"});setTitle(\"\");setBrand(\"\");setCategory(\"\");setSubCategory(\"\");setSubSubCategory(\"\");setDescription(\"\");setColor(\"\");setSellPrice(\"\");setBoughtPrice(\"\");setAmount(\"\");setImg([]);setDeletedProduct(res.data);}).catch(function(e){window.M.toast({html:e.message,classes:\"loginToastRed\"});});};var filteredSubCategories=category&&subCategories.filter(function(el){return el.category===category;});var filteredSubSubCategories=subCategory&&subSubcategories.filter(function(el){return el.subCategory===subCategory;});return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"modal1\",className:\"modal modal-fixed-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"C\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"col m6 offset-m3\",style:{padding:\"0 2rem\"},onSubmit:function onSubmit(e){return submitHanler(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:function onChange(e){return setCategory(e.target.value);},className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),categories.length>0&&categories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.categoryName,children:el.categoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:subCategory,onChange:function onChange(e){return setSubCategory(e.target.value);},className:\"browser-default\",disabled:category?false:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),filteredSubCategories.length>0&&filteredSubCategories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.subCategoryName,children:el.subCategoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:subSubCategory,onChange:function onChange(e){return setSubSubCategory(e.target.value);},className:\"browser-default\",disabled:subCategory?false:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),filteredSubSubCategories.length>0&&filteredSubSubCategories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.subSubCategoryName,children:el.subSubCategoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:brand,onChange:function onChange(e){return setBrand(e.target.value);},className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u0411\\u0440\\u0435\\u043D\\u0434\"}),brands.length>0&&brands.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.brandName,children:el.brandName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",required:true,className:\"validate\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field colorcol s12\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",type:\"text\",required:true,className:\"validate materialize-textarea\",\"data-length\":\"120\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"color\",type:\"text\",required:true,className:\"validate\",value:color,onChange:function onChange(e){return setColor(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"color\",children:\"\\u0426\\u0432\\u0435\\u0442\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"sellPrice\",type:\"number\",required:true,className:\"validate\",value:sellPrice,onChange:function onChange(e){return setSellPrice(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sellPrice\",children:\"\\u0426\\u0435\\u043D\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"boughtPrice\",type:\"number\",required:true,className:\"validate\",value:boughtPrice,onChange:function onChange(e){return setBoughtPrice(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"boughtPrice\",children:\"\\u0426\\u0435\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0438\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"amount\",type:\"text\",required:true,className:\"validate\",value:amount,onChange:function onChange(e){return setAmount(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field col s12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",required:true,multiple:true,onChange:function onChange(e){return setImg(_toConsumableArray(e.target.files));}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path validate\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-green green btn-flat\",type:\"submit\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\"})]}),/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"adminProductsPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"adminProductsPageHeader\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"adminProductPageTitle\",children:\"\\u0412\\u0441\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{\"data-target\":\"modal1\",className:\"btn modal-trigger right-align\",onClick:function onClick(e){var elem=document.querySelectorAll(\".modal\");window.M.Modal.init(elem);},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u2116\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0422\\u043E\\u0432\\u0430\\u0440\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0411\\u0440\\u0435\\u043D\\u0434\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0446\\u0435\\u043D\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0446\\u0435\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u044B\\u0445\\u043E\\u0434\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.length>0&&products.map(function(product,index){var _product$img$;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:index+1}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"50px\"},src:\"/\".concat((_product$img$=product.img[0])===null||_product$img$===void 0?void 0:_product$img$.path),alt:product.title})}),/*#__PURE__*/_jsx(\"th\",{children:product.category}),/*#__PURE__*/_jsx(\"th\",{children:product.subCategory}),/*#__PURE__*/_jsx(\"th\",{children:product.subSubCategory}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{className:\"black-text hover-effect\",to:\"/product/\".concat(product._id),children:product.title})}),/*#__PURE__*/_jsx(\"th\",{children:product.brand}),/*#__PURE__*/_jsx(\"th\",{children:product.boughtPrice}),/*#__PURE__*/_jsx(\"th\",{children:product.sellPrice}),/*#__PURE__*/_jsx(\"th\",{children:product.amount}),/*#__PURE__*/_jsx(\"th\",{children:new Intl.DateTimeFormat(\"ru-RU\").format(new Date(product.createdAt))}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/products/\".concat(product._id),className:\"btn yellow accent-4 waves-effect waves-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})})]},index+1);})})]}),products.length===0&&/*#__PURE__*/_jsx(Loading,{})]})]});};export default AdminOnlyProductPage;","map":{"version":3,"sources":["/home/akbar/Desktop/salam/final/client/src/pages/adminpages/AdminOnlyAddProduct.js"],"names":["React","Link","axios","AdminSidebar","Loading","AdminOnlyProductPage","useState","categories","setCategories","subCategories","setSubCategories","subSubcategories","setSubSubCategories","brands","setBrands","title","setTitle","category","setCategory","subCategory","setSubCategory","subSubCategory","setSubSubCategory","brand","setBrand","description","setDescription","color","setColor","sellPrice","setSellPrice","boughtPrice","setBoughtPrice","amount","setAmount","img","setImg","products","setProducts","deletedProduct","setDeletedProduct","useEffect","get","then","res","data","JSON","parse","localStorage","getItem","token","headers","Authorization","submitHanler","e","preventDefault","formData","FormData","append","length","map","el","post","window","M","toast","html","classes","catch","message","filteredSubCategories","filter","filteredSubSubCategories","padding","target","value","categoryName","_id","subCategoryName","subSubCategoryName","brandName","files","elem","document","querySelectorAll","Modal","init","product","index","width","path","Intl","DateTimeFormat","format","Date","createdAt"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport AdminSidebar from \"../../Components/AdminSidebar\";\nimport \"./AdminProductsPage.css\";\nimport Loading from \"../../Components/Loading/Loading\";\n\nconst AdminOnlyProductPage = () => {\n  const [categories, setCategories] = React.useState([]);\n  const [subCategories, setSubCategories] = React.useState([]);\n  const [subSubcategories, setSubSubCategories] = React.useState([]);\n  const [brands, setBrands] = React.useState([]);\n\n  //create product\n  const [title, setTitle] = React.useState(\"\");\n  const [category, setCategory] = React.useState(\"\");\n  const [subCategory, setSubCategory] = React.useState(\"\");\n  const [subSubCategory, setSubSubCategory] = React.useState(\"\");\n  const [brand, setBrand] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [color, setColor] = React.useState(\"\");\n  const [sellPrice, setSellPrice] = React.useState(\"\");\n  const [boughtPrice, setBoughtPrice] = React.useState(\"\");\n  const [amount, setAmount] = React.useState(\"\");\n  const [img, setImg] = React.useState([]);\n\n  //display product\n  const [products, setProducts] = React.useState([]);\n  const [deletedProduct, setDeletedProduct] = React.useState(\"\");\n\n  React.useEffect(() => {\n    axios.get(\"/category\").then((res) => {\n      setCategories(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    axios.get(\"/subcategory\").then((res) => {\n      setSubCategories(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    axios.get(\"/subsubcategory\").then((res) => {\n      setSubSubCategories(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    axios.get(\"/brand\").then((res) => {\n      setBrands(res.data);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(\"/products\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(({ data }) => {\n        setProducts(data);\n      });\n    setDeletedProduct(\"\");\n  }, [deletedProduct]);\n\n  const submitHanler = (e) => {\n    e.preventDefault();\n\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    const formData = new FormData();\n\n    formData.append(\"title\", title);\n    formData.append(\"category\", category);\n    formData.append(\"subCategory\", subCategory);\n    formData.append(\"subSubCategory\", subSubCategory);\n    formData.append(\"brand\", brand);\n    formData.append(\"description\", description);\n    formData.append(\"color\", color);\n    formData.append(\"sellPrice\", sellPrice);\n    formData.append(\"boughtPrice\", boughtPrice);\n    formData.append(\"amount\", amount);\n    img.length > 0 && img.map((el) => formData.append(\"img\", el));\n\n    axios\n      .post(\"/products\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        window.M.toast({ html: \"Продукт создан\", classes: \"loginToast\" });\n\n        setTitle(\"\");\n        setBrand(\"\");\n        setCategory(\"\");\n        setSubCategory(\"\");\n        setSubSubCategory(\"\");\n        setDescription(\"\");\n        setColor(\"\");\n        setSellPrice(\"\");\n        setBoughtPrice(\"\");\n        setAmount(\"\");\n        setImg([]);\n\n        setDeletedProduct(res.data);\n      })\n      .catch((e) => {\n        window.M.toast({ html: e.message, classes: \"loginToastRed\" });\n      });\n  };\n\n  const filteredSubCategories =\n    category && subCategories.filter((el) => el.category === category);\n\n  const filteredSubSubCategories =\n    subCategory &&\n    subSubcategories.filter((el) => el.subCategory === subCategory);\n\n  return (\n    <div className=\"adminPage\">\n      <div id=\"modal1\" className=\"modal modal-fixed-footer\">\n        <div className=\"modal-content\">\n          <h4>Cоздать продукт</h4>\n          <form\n            className=\"col m6 offset-m3\"\n            style={{ padding: \"0 2rem\" }}\n            onSubmit={(e) => submitHanler(e)}\n          >\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={category}\n                  onChange={(e) => setCategory(e.target.value)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Категория\n                  </option>\n                  {categories.length > 0 &&\n                    categories.map((el) => (\n                      <option key={el._id} value={el.categoryName}>\n                        {el.categoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={subCategory}\n                  onChange={(e) => setSubCategory(e.target.value)}\n                  className=\"browser-default\"\n                  disabled={category ? false : true}\n                >\n                  <option value=\"\" disabled>\n                    Подкатегория\n                  </option>\n                  {filteredSubCategories.length > 0 &&\n                    filteredSubCategories.map((el) => (\n                      <option key={el._id} value={el.subCategoryName}>\n                        {el.subCategoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={subSubCategory}\n                  onChange={(e) => setSubSubCategory(e.target.value)}\n                  className=\"browser-default\"\n                  disabled={subCategory ? false : true}\n                >\n                  <option value=\"\" disabled>\n                    Подподкатегория\n                  </option>\n                  {filteredSubSubCategories.length > 0 &&\n                    filteredSubSubCategories.map((el) => (\n                      <option key={el._id} value={el.subSubCategoryName}>\n                        {el.subSubCategoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={brand}\n                  onChange={(e) => setBrand(e.target.value)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Бренд\n                  </option>\n                  {brands.length > 0 &&\n                    brands.map((el) => (\n                      <option key={el._id} value={el.brandName}>\n                        {el.brandName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"title\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                />\n                <label htmlFor=\"title\">Название товара</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field colorcol s12\">\n                <textarea\n                  id=\"description\"\n                  type=\"text\"\n                  required\n                  className=\"validate materialize-textarea\"\n                  data-length=\"120\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n                <label htmlFor=\"description\">Описание</label>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"color\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={color}\n                  onChange={(e) => setColor(e.target.value)}\n                />\n                <label htmlFor=\"color\">Цвет</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"sellPrice\"\n                  type=\"number\"\n                  required\n                  className=\"validate\"\n                  value={sellPrice}\n                  onChange={(e) => setSellPrice(e.target.value)}\n                />\n                <label htmlFor=\"sellPrice\">Цена покупки</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"boughtPrice\"\n                  type=\"number\"\n                  required\n                  className=\"validate\"\n                  value={boughtPrice}\n                  onChange={(e) => setBoughtPrice(e.target.value)}\n                />\n                <label htmlFor=\"boughtPrice\">Цена продажи</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"amount\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={amount}\n                  onChange={(e) => setAmount(e.target.value)}\n                />\n                <label htmlFor=\"amount\">Количество</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"file-field input-field col s12\">\n                <div className=\"btn\">\n                  <span>Изображения</span>\n                  <input\n                    type=\"file\"\n                    required\n                    multiple\n                    onChange={(e) => setImg([...e.target.files])}\n                  />\n                </div>\n                <div className=\"file-path-wrapper\">\n                  <input className=\"file-path validate\" type=\"text\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button\n                  className=\"btn waves-effect waves-green green btn-flat\"\n                  type=\"submit\"\n                >\n                  Создать\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n        <div className=\"modal-footer\"></div>\n      </div>\n      <AdminSidebar />\n      <div className=\"adminProductsPage\">\n        <div className=\"adminProductsPageHeader\">\n          <p className=\"adminProductPageTitle\">Все продукты</p>\n          <button\n            data-target=\"modal1\"\n            className=\"btn modal-trigger right-align\"\n            onClick={(e) => {\n              const elem = document.querySelectorAll(\".modal\");\n              window.M.Modal.init(elem);\n            }}\n          >\n            Создать продукт\n          </button>\n        </div>\n\n        <table className=\"striped\">\n          <thead>\n            <tr>\n              <th>№</th>\n              <th>Товар</th>\n              <th>Категория</th>\n              <th>Подкатегория</th>\n              <th>Подподкатегория</th>\n              <th>Название товара</th>\n              <th>Бренд</th>\n              <th>цена покупки</th>\n              <th>цена продажи</th>\n              <th>Количество</th>\n              <th>Дата выхода товара</th>\n              <th>Изменить</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {products.length > 0 &&\n              products.map((product, index) => (\n                <tr key={index + 1}>\n                  <th>{index + 1}</th>\n                  <th>\n                    <img\n                      style={{ width: \"50px\" }}\n                      src={`/${product.img[0]?.path}`}\n                      alt={product.title}\n                    />\n                  </th>\n                  <th>{product.category}</th>\n                  <th>{product.subCategory}</th>\n                  <th>{product.subSubCategory}</th>\n                  <th>\n                    <Link\n                      className=\"black-text hover-effect\"\n                      to={`/product/${product._id}`}\n                    >\n                      {product.title}\n                    </Link>\n                  </th>\n                  <th>{product.brand}</th>\n                  <th>{product.boughtPrice}</th>\n                  <th>{product.sellPrice}</th>\n                  <th>{product.amount}</th>\n                  <th>\n                    {new Intl.DateTimeFormat(\"ru-RU\").format(\n                      new Date(product.createdAt)\n                    )}\n                  </th>\n                  <th>\n                    <Link\n                      to={`/admin/products/${product._id}`}\n                      className=\"btn yellow accent-4 waves-effect waves-light\"\n                    >\n                      <i className=\"fas fa-edit\"></i>\n                    </Link>\n                  </th>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n        {products.length === 0 && <Loading />}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminOnlyProductPage;\n"]},"metadata":{},"sourceType":"module"}