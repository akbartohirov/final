{"ast":null,"code":"var _jsxFileName = \"/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/admindetailspage/AdminSubSubCategoryDetailsPage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; // import AdminSidebar from \"../../../Components/\";\n\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminSubCategoryDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminSubUserDetailsPage = () => {\n  _s();\n\n  const [categories, setCategories] = React.useState([]);\n  const [subCategories, setSubCategories] = React.useState([]);\n  const [filteredSubCategories, setFilteredSubCategories] = React.useState([]);\n  const [subSubCategoryName, setSubSubCategoryName] = React.useState(\"\");\n  const [subCategoryName, setSubCategoryName] = React.useState(\"\");\n  const [categoryName, setCategoryName] = React.useState(\"\");\n  const {\n    id\n  } = useParams();\n  React.useEffect(() => {\n    const {\n      token\n    } = JSON.parse(localStorage.getItem(\"userData\"));\n    axios.get(`/subsubcategory/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(({\n      data\n    }) => {\n      setSubSubCategoryName(data.subSubCategoryName);\n      setSubCategoryName(data.subCategory);\n      setCategoryName(data.category);\n    });\n  }, [id]);\n  React.useEffect(() => {\n    axios.get(`/category`).then(({\n      data\n    }) => {\n      setCategories(data);\n    });\n  }, [id]);\n  React.useEffect(() => {\n    axios.get(`/subcategory`).then(({\n      data\n    }) => {\n      setSubCategories(data);\n    });\n  }, [id]);\n\n  const submitHanler = e => {\n    const {\n      token\n    } = JSON.parse(localStorage.getItem(\"userData\"));\n    e.preventDefault();\n    console.log({\n      subSubCategoryName,\n      subCategoryName,\n      categoryName\n    });\n    axios.patch(`/subsubcategory/${id}`, {\n      subSubCategoryName,\n      subCategory: subCategoryName,\n      category: categoryName\n    }, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      window.M.toast({\n        html: \"Имзменения сохранени\",\n        classes: \"loginToast\"\n      });\n    }).catch(e => {\n      window.M.toast({\n        html: e.message,\n        classes: \"loginToastRed\"\n      });\n    });\n  };\n\n  const categoryHandler = e => {\n    setCategoryName(e.target.value);\n    const filteredSubCategories = subCategories && subCategories.filter(el => el.category === (categoryName ? categoryName : e.target.value));\n    setFilteredSubCategories(filteredSubCategories);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"adminPage\",\n    children: [/*#__PURE__*/_jsxDEV(AdminSidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminUsersDetailsPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"center-align\",\n        children: \"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"col m6 offset-m3\",\n          onSubmit: e => submitHanler(e),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: categoryName,\n                onChange: e => categoryHandler(e),\n                className: \"browser-default\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 19\n                }, this), categories.length > 0 && categories.map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: el._categoryName,\n                  children: el.categoryName\n                }, el._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: subCategoryName,\n                onChange: e => setSubCategoryName(e.target.value),\n                className: \"browser-default\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), filteredSubCategories.length > 0 ? filteredSubCategories.map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: el.subCategoryName,\n                  children: el.subCategoryName\n                }, el._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 25\n                }, this)) : subCategories.length > 0 && subCategories.map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: el.subCategoryName,\n                  children: el.subCategoryName\n                }, el._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"categoryName\",\n                type: \"text\",\n                required: true,\n                className: \"validate\",\n                value: subSubCategoryName,\n                onChange: e => setSubSubCategoryName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"categoryName\",\n                children: \"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-field col s12\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                type: \"submit\",\n                children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminSubUserDetailsPage, \"hvp3aOXg/NhvPOi6taf5QOH0eXE=\", false, function () {\n  return [useParams];\n});\n\n_c = AdminSubUserDetailsPage;\nexport default AdminSubUserDetailsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminSubUserDetailsPage\");","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/admindetailspage/AdminSubSubCategoryDetailsPage.js"],"names":["React","AdminSidebar","axios","useParams","AdminSubUserDetailsPage","categories","setCategories","useState","subCategories","setSubCategories","filteredSubCategories","setFilteredSubCategories","subSubCategoryName","setSubSubCategoryName","subCategoryName","setSubCategoryName","categoryName","setCategoryName","id","useEffect","token","JSON","parse","localStorage","getItem","get","headers","Authorization","then","data","subCategory","category","submitHanler","e","preventDefault","console","log","patch","res","window","M","toast","html","classes","catch","message","categoryHandler","target","value","filter","el","length","map","_categoryName","_id"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminSubCategoryDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nconst AdminSubUserDetailsPage = () => {\n  const [categories, setCategories] = React.useState([]);\n  const [subCategories, setSubCategories] = React.useState([]);\n  const [filteredSubCategories, setFilteredSubCategories] = React.useState([]);\n\n  const [subSubCategoryName, setSubSubCategoryName] = React.useState(\"\");\n  const [subCategoryName, setSubCategoryName] = React.useState(\"\");\n  const [categoryName, setCategoryName] = React.useState(\"\");\n  const { id } = useParams();\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(`/subsubcategory/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(({ data }) => {\n        setSubSubCategoryName(data.subSubCategoryName);\n        setSubCategoryName(data.subCategory);\n        setCategoryName(data.category);\n      });\n  }, [id]);\n\n  React.useEffect(() => {\n    axios.get(`/category`).then(({ data }) => {\n      setCategories(data);\n    });\n  }, [id]);\n\n  React.useEffect(() => {\n    axios.get(`/subcategory`).then(({ data }) => {\n      setSubCategories(data);\n    });\n  }, [id]);\n\n  const submitHanler = (e) => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    e.preventDefault();\n\n    console.log({ subSubCategoryName, subCategoryName, categoryName });\n\n    axios\n      .patch(\n        `/subsubcategory/${id}`,\n        {\n          subSubCategoryName,\n          subCategory: subCategoryName,\n          category: categoryName,\n        },\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then((res) => {\n        window.M.toast({ html: \"Имзменения сохранени\", classes: \"loginToast\" });\n      })\n      .catch((e) => {\n        window.M.toast({ html: e.message, classes: \"loginToastRed\" });\n      });\n  };\n\n  const categoryHandler = (e) => {\n    setCategoryName(e.target.value);\n    const filteredSubCategories =\n      subCategories &&\n      subCategories.filter(\n        (el) => el.category === (categoryName ? categoryName : e.target.value)\n      );\n    setFilteredSubCategories(filteredSubCategories);\n  };\n\n  return (\n    <div className=\"adminPage\">\n      <AdminSidebar />\n      <div className=\"adminUsersDetailsPage\">\n        <h4 className=\"center-align\">Подподкатегория</h4>\n        <div className=\"row\">\n          <form className=\"col m6 offset-m3\" onSubmit={(e) => submitHanler(e)}>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={categoryName}\n                  onChange={(e) => categoryHandler(e)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Категория\n                  </option>\n                  {categories.length > 0 &&\n                    categories.map((el) => (\n                      <option key={el._id} value={el._categoryName}>\n                        {el.categoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={subCategoryName}\n                  onChange={(e) => setSubCategoryName(e.target.value)}\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Подкатегория\n                  </option>\n                  {filteredSubCategories.length > 0\n                    ? filteredSubCategories.map((el) => (\n                        <option key={el._id} value={el.subCategoryName}>\n                          {el.subCategoryName}\n                        </option>\n                      ))\n                    : subCategories.length > 0 &&\n                      subCategories.map((el) => (\n                        <option key={el._id} value={el.subCategoryName}>\n                          {el.subCategoryName}\n                        </option>\n                      ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"categoryName\"\n                  type=\"text\"\n                  required\n                  className=\"validate\"\n                  value={subSubCategoryName}\n                  onChange={(e) => setSubSubCategoryName(e.target.value)}\n                />\n                <label htmlFor=\"categoryName\">Подподкатегория</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button className=\"btn\" type=\"submit\">\n                  Сохранить\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSubUserDetailsPage;\n"]},"metadata":{},"sourceType":"module"}