{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import\"./CatalogProductItem.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CatalogProductItem=function CatalogProductItem(_ref){var data=_ref.data,ownstyle=_ref.ownstyle;var basketHandler=function basketHandler(e){var addedProduct=JSON.parse(localStorage.getItem(\"salamBasket\"));if(!addedProduct){localStorage.setItem(\"salamBasket\",JSON.stringify([{productId:data._id,img:data.img,title:data.title,quantity:1,price:data.sellPrice,amount:data.amount}]));window.M.toast({html:\"Продукт добавлен\",classes:\"loginToast\"});return;}else{var productIds=addedProduct.map(function(item){return item.productId;});if(addedProduct&&productIds.includes(data._id)){window.M.toast({html:\"Продукт уже существует в ввшем корзине\",classes:\"loginToastYellow\"});return;}else if(addedProduct&&!productIds.includes(data._id)){addedProduct.push({productId:data._id,img:data.img,title:data.title,quantity:1,price:data.sellPrice,amount:data.amount});localStorage.setItem(\"salamBasket\",JSON.stringify(addedProduct));window.M.toast({html:\"Продукт добавлен\",classes:\"loginToast\"});}}};var formatter=new Intl.NumberFormat();return/*#__PURE__*/_jsx(\"div\",{style:ownstyle&&ownstyle,children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-cont\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-image\",style:{height:\"180px\",overflow:\"hidden\",position:\"relative\"},children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"100%\",width:\"auto\",padding:\"20px\",marginTop:\"20px\"},src:\"/\".concat(data.img[0].path),alt:\"product img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(data._id),className:\"card-title prodcuct-card-title \",style:{cursor:\"pointer\",color:\"#000\"},children:data.title}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"right\",fontWeight:\"600\",fontSize:\"20px\"},children:[formatter.format(data.sellPrice),\" \\u0441\\u0443\\u043C\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-action\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect\",onClick:function onClick(e){return basketHandler(e);},children:\"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})})]})});};export default CatalogProductItem;","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/Components/CatalogProductItem.js"],"names":["React","Link","CatalogProductItem","data","ownstyle","basketHandler","e","addedProduct","JSON","parse","localStorage","getItem","setItem","stringify","productId","_id","img","title","quantity","price","sellPrice","amount","window","M","toast","html","classes","productIds","map","item","includes","push","formatter","Intl","NumberFormat","height","overflow","position","width","padding","marginTop","path","cursor","color","textAlign","fontWeight","fontSize","format"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./CatalogProductItem.css\";\n\nconst CatalogProductItem = ({ data, ownstyle }) => {\n  const basketHandler = (e) => {\n    let addedProduct = JSON.parse(localStorage.getItem(\"salamBasket\"));\n\n    if (!addedProduct) {\n      localStorage.setItem(\n        \"salamBasket\",\n        JSON.stringify([\n          {\n            productId: data._id,\n            img: data.img,\n            title: data.title,\n            quantity: 1,\n            price: data.sellPrice,\n            amount: data.amount,\n          },\n        ])\n      );\n      window.M.toast({ html: \"Продукт добавлен\", classes: \"loginToast\" });\n      return;\n    } else {\n      const productIds = addedProduct.map((item) => item.productId);\n      if (addedProduct && productIds.includes(data._id)) {\n        window.M.toast({\n          html: \"Продукт уже существует в ввшем корзине\",\n          classes: \"loginToastYellow\",\n        });\n        return;\n      } else if (addedProduct && !productIds.includes(data._id)) {\n        addedProduct.push({\n          productId: data._id,\n          img: data.img,\n          title: data.title,\n          quantity: 1,\n          price: data.sellPrice,\n          amount: data.amount,\n        });\n        localStorage.setItem(\"salamBasket\", JSON.stringify(addedProduct));\n        window.M.toast({ html: \"Продукт добавлен\", classes: \"loginToast\" });\n      }\n    }\n  };\n\n  const formatter = new Intl.NumberFormat();\n\n  return (\n    <div style={ownstyle && ownstyle}>\n      <div className=\"card card-cont\">\n        <div\n          className=\"card-image\"\n          style={{ height: \"180px\", overflow: \"hidden\", position: \"relative\" }}\n        >\n          <img\n            style={{\n              height: \"100%\",\n              width: \"auto\",\n              padding: \"20px\",\n              marginTop: \"20px\",\n            }}\n            src={`/${data.img[0].path}`}\n            alt=\"product img\"\n          />\n        </div>\n        <div className=\"card-content\">\n          <Link\n            to={`/product/${data._id}`}\n            className=\"card-title prodcuct-card-title \"\n            style={{ cursor: \"pointer\", color: \"#000\" }}\n          >\n            {data.title}\n          </Link>\n          <p\n            style={{ textAlign: \"right\", fontWeight: \"600\", fontSize: \"20px\" }}\n          >\n            {formatter.format(data.sellPrice)} сум\n          </p>\n        </div>\n        <div className=\"card-action\">\n          <button\n            className=\"btn waves-effect\"\n            onClick={(e) => basketHandler(e)}\n          >\n            В корзину\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CatalogProductItem;\n"]},"metadata":{},"sourceType":"module"}