{"ast":null,"code":"import _slicedToArray from\"/home/akbar/Desktop/salam/final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import AdminSidebar from\"../../../Components/AdminSidebar\";import\"./AdminOrderDetailsPage.css\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminOrderDetailsPage=function AdminOrderDetailsPage(){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),order=_React$useState2[0],setOrder=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];var _useParams=useParams(),id=_useParams.id;React.useEffect(function(){var token=localStorage.getItem(\"userData\")&&JSON.parse(localStorage.getItem(\"userData\")).token;axios.get(\"/orders/exact/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){console.log(res.data);setOrder(res.data);setStatus(res.data.status);});},[id,status]);var statusHandler=function statusHandler(e){var token=localStorage.getItem(\"userData\")&&JSON.parse(localStorage.getItem(\"userData\")).token;axios.patch(\"/orders/\".concat(id),{status:e.target.value},{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}});setStatus(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"adminUsersDetailsPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col s12 m8\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0417\\u0430\\u043A\\u0430\\u0437 \\u0441 ID \".concat(order._id)}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"600\"},children:\" \\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"ID:\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/admin/users/\".concat(order.userId),children:order.userId}),\" \"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"\\u0422\\u0435\\u043B: \",order.phone]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"600\"},children:\" \\u0410\\u0434\\u0440\\u0435\\u0441\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"\\u0413\\u043E\\u0440\\u043E\\u0434: \",order.city]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"\\u0423\\u043B\\u0438\\u0446\\u0430: \",order.street]}),/*#__PURE__*/_jsx(\"br\",{}),order.entityName&&order.stir&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"600\"},children:\" \\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438: \",order.entityName]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"\\u0418\\u041D\\u041D: \",order.stir]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"600\"},children:\" \\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Browser Select\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:function onChange(e){return statusHandler(e);},className:\"browser-default lighten-1 \".concat(status===\"новый\"&&\"blue\",\" \").concat(status===\"отправлен\"&&\"yellow\",\" \").concat(status===\"доставлен\"&&\"green\",\" \").concat(status===\"Отменён\"&&\"red\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"option\",{style:{margin:\"10px\"},className:\"lighten-1 blue\",value:\"\\u043D\\u043E\\u0432\\u044B\\u0439\",children:\"\\u043D\\u043E\\u0432\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"option\",{style:{margin:\"10px\"},className:\"lighten-1 yellow\",value:\"\\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\",children:\"\\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"option\",{style:{margin:\"10px\"},className:\"lighten-1 green\",value:\"\\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043B\\u0435\\u043D\",children:\"\\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043B\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"option\",{style:{margin:\"10px\"},className:\"lighten-1 red\",value:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0451\\u043D\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0451\\u043D\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col s12 m4\",children:\"xayr\"})]})})]});};export default AdminOrderDetailsPage;","map":{"version":3,"sources":["/home/akbar/Desktop/salam/final/client/src/pages/adminpages/admindetailspage/AdminOrderDetailsPage.js"],"names":["React","AdminSidebar","axios","useParams","Link","AdminOrderDetailsPage","useState","order","setOrder","status","setStatus","id","useEffect","token","localStorage","getItem","JSON","parse","get","headers","Authorization","then","res","console","log","data","statusHandler","e","patch","target","value","_id","fontWeight","userId","phone","city","street","entityName","stir","margin"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminOrderDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminOrderDetailsPage = () => {\n  const [order, setOrder] = React.useState({});\n  const [status, setStatus] = React.useState(\"\");\n\n  const { id } = useParams();\n\n  React.useEffect(() => {\n    const token =\n      localStorage.getItem(\"userData\") &&\n      JSON.parse(localStorage.getItem(\"userData\")).token;\n\n    axios\n      .get(`/orders/exact/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res.data);\n        setOrder(res.data);\n        setStatus(res.data.status);\n      });\n  }, [id, status]);\n\n  const statusHandler = (e) => {\n    const token =\n      localStorage.getItem(\"userData\") &&\n      JSON.parse(localStorage.getItem(\"userData\")).token;\n\n    axios.patch(\n      `/orders/${id}`,\n      { status: e.target.value },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    setStatus(e.target.value);\n  };\n\n  return (\n    <div className=\"adminPage\">\n      <AdminSidebar />\n      <div className=\"adminUsersDetailsPage\">\n        <div className=\"row\">\n          <div className=\"col s12 m8\">\n            <h4>{`Заказ с ID ${order._id}`}</h4>\n            <span style={{ fontWeight: \"600\" }}> Данные заказчика</span>\n            <hr />\n            <h6>\n              ID:{\" \"}\n              <Link to={`/admin/users/${order.userId}`}>{order.userId}</Link>{\" \"}\n            </h6>\n            <h6>Тел: {order.phone}</h6>\n            <br />\n            <span style={{ fontWeight: \"600\" }}> Адрес</span>\n            <hr />\n            <h6>Город: {order.city}</h6>\n            <h6>Улица: {order.street}</h6>\n            <br />\n\n            {order.entityName && order.stir && (\n              <>\n                <span style={{ fontWeight: \"600\" }}> Данные заказчика</span>\n                <hr />\n\n                <h6>Название организации: {order.entityName}</h6>\n                <h6>ИНН: {order.stir}</h6>\n              </>\n            )}\n            <br />\n            <span style={{ fontWeight: \"600\" }}> Статус</span>\n            <hr />\n            <label>Browser Select</label>\n            <select\n              value={status}\n              onChange={(e) => statusHandler(e)}\n              className={`browser-default lighten-1 ${\n                status === \"новый\" && \"blue\"\n              } ${status === \"отправлен\" && \"yellow\"} ${\n                status === \"доставлен\" && \"green\"\n              } ${status === \"Отменён\" && \"red\"}`}\n            >\n              <option value=\"\" disabled>\n                Выбрать\n              </option>\n              <option\n                style={{ margin: \"10px\" }}\n                className=\"lighten-1 blue\"\n                value=\"новый\"\n              >\n                новый\n              </option>\n              <option\n                style={{ margin: \"10px\" }}\n                className=\"lighten-1 yellow\"\n                value=\"отправлен\"\n              >\n                отправлен\n              </option>\n              <option\n                style={{ margin: \"10px\" }}\n                className=\"lighten-1 green\"\n                value=\"доставлен\"\n              >\n                доставлен\n              </option>\n              <option\n                style={{ margin: \"10px\" }}\n                className=\"lighten-1 red\"\n                value=\"Отменён\"\n              >\n                Отменён\n              </option>\n            </select>\n          </div>\n          <div className=\"col s12 m4\">xayr</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminOrderDetailsPage;\n"]},"metadata":{},"sourceType":"module"}