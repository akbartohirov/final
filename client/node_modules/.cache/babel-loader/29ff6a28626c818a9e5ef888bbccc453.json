{"ast":null,"code":"import _slicedToArray from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from\"../../../Components/AdminSidebar\";import\"./AdminProductDetailsPage.css\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminProductDetailsPage=function AdminProductDetailsPage(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),img=_React$useState4[0],setImg=_React$useState4[1];var _useParams=useParams(),id=_useParams.id;React.useEffect(function(){var _JSON$parse=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse.token;axios.get(\"/brand/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(_ref){var data=_ref.data;setName(data.brandName);setImg(data.img);});},[id]);var submitHanler=function submitHanler(e){e.preventDefault();var _JSON$parse2=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse2.token;var fd=new FormData();fd.append(\"brandName\",name);fd.append(\"img\",img);axios.patch(\"/brand/\".concat(id),fd,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){console.log(res);window.M.toast({html:\"Бренд изменён\",classes:\"loginToast\"});}).catch(function(e){window.M.toast({html:\"Бренд не изменён\",classes:\"loginToastRed\"});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"adminUsersDetailsPage\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"center-align\",children:\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"col m6 offset-m3\",onSubmit:function onSubmit(e){return submitHanler(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",className:\"validate\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field col s12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:function onChange(e){return setImg(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path validate\",type:\"text\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})})})]})})]})]});};export default AdminProductDetailsPage;","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/admindetailspage/AdminBrandDetailsPage.js"],"names":["React","AdminSidebar","axios","useParams","AdminProductDetailsPage","useState","name","setName","img","setImg","id","useEffect","JSON","parse","localStorage","getItem","token","get","headers","Authorization","then","data","brandName","submitHanler","e","preventDefault","fd","FormData","append","patch","res","console","log","window","M","toast","html","classes","catch","target","value","files"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminProductDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nconst AdminProductDetailsPage = () => {\n  const [name, setName] = React.useState(\"\");\n  const [img, setImg] = React.useState([]);\n\n  const { id } = useParams();\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(`/brand/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(({ data }) => {\n        setName(data.brandName);\n        setImg(data.img);\n      });\n  }, [id]);\n\n  const submitHanler = (e) => {\n    e.preventDefault();\n\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    const fd = new FormData();\n\n    fd.append(\"brandName\", name);\n    fd.append(\"img\", img);\n\n    axios\n      .patch(`/brand/${id}`, fd, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n        window.M.toast({ html: \"Бренд изменён\", classes: \"loginToast\" });\n      })\n      .catch((e) => {\n        window.M.toast({\n          html: \"Бренд не изменён\",\n          classes: \"loginToastRed\",\n        });\n      });\n  };\n\n  return (\n    <div className=\"adminPage\">\n      <AdminSidebar />\n      <div className=\"adminUsersDetailsPage\">\n        <h4 className=\"center-align\">Данные продукта</h4>\n        <div className=\"row\">\n          <form className=\"col m6 offset-m3\" onSubmit={(e) => submitHanler(e)}>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"title\"\n                  type=\"text\"\n                  className=\"validate\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n                <label htmlFor=\"title\">Название товара</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"file-field input-field col s12\">\n                <div className=\"btn\">\n                  <span>Изображения</span>\n                  <input\n                    type=\"file\"\n                    multiple\n                    onChange={(e) => setImg(e.target.files[0])}\n                  />\n                </div>\n                <div className=\"file-path-wrapper\">\n                  <input className=\"file-path validate\" type=\"text\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button className=\"btn\" type=\"submit\">\n                  Сохранить\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminProductDetailsPage;\n"]},"metadata":{},"sourceType":"module"}