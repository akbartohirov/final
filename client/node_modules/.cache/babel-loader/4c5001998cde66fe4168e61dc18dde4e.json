{"ast":null,"code":"import _slicedToArray from\"/home/akbar/Desktop/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import axios from\"axios\";import{useLocation}from\"react-router-dom\";import\"./CatalogProduct.css\";import CatalofProductItem from\"../Components/CatalogProductItem\";import Loading from\"../Components/Loading/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CatalogProduct=function CatalogProduct(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),products=_React$useState2[0],setProducts=_React$useState2[1];var location=useLocation();var useQuery=function useQuery(){return new URLSearchParams(location.search);};var query=useQuery();React.useEffect(function(){axios.get(\"/products\").then(function(res){var category=query.get(\"q\");var filtered=res.data.filter(function(item){return item.category===category;});setProducts(filtered);});},[query]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"product-content-title\",children:query.get(\"q\")}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:products===null?/*#__PURE__*/_jsx(Loading,{}):products.map(function(item,index){return/*#__PURE__*/_jsx(CatalofProductItem,{data:item},index);})})]});};export default CatalogProduct;","map":{"version":3,"sources":["/home/akbar/Desktop/project/client/src/pages/CatalogProduct.js"],"names":["React","axios","useLocation","CatalofProductItem","Loading","CatalogProduct","useState","products","setProducts","location","useQuery","URLSearchParams","search","query","useEffect","get","then","res","category","filtered","data","filter","item","map","index"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,kBAAP,KAA+B,kCAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,+BAApB,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,qBACKL,KAAK,CAACM,QAAN,CAAe,IAAf,CADL,oDACpBC,QADoB,qBACVC,WADU,qBAG3B,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,SAAM,IAAIC,CAAAA,eAAJ,CAAoBF,QAAQ,CAACG,MAA7B,CAAN,EAAjB,CAEA,GAAIC,CAAAA,KAAK,CAAGH,QAAQ,EAApB,CAEAV,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBb,KAAK,CAACc,GAAN,CAAU,WAAV,EAAuBC,IAAvB,CAA4B,SAACC,GAAD,CAAS,CACnC,GAAIC,CAAAA,QAAQ,CAAGL,KAAK,CAACE,GAAN,CAAU,GAAV,CAAf,CAEA,GAAMI,CAAAA,QAAQ,CAAGF,GAAG,CAACG,IAAJ,CAASC,MAAT,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACJ,QAAL,GAAkBA,QAA5B,EAAhB,CAAjB,CAEAV,WAAW,CAACW,QAAD,CAAX,CACD,CAND,EAOD,CARD,CAQG,CAACN,KAAD,CARH,EAUA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,uBAAd,UAAuCA,KAAK,CAACE,GAAN,CAAU,GAAV,CAAvC,EADF,cAEE,YAAK,SAAS,CAAC,UAAf,UACGR,QAAQ,GAAK,IAAb,cACC,KAAC,OAAD,IADD,CAGCA,QAAQ,CAACgB,GAAT,CAAa,SAACD,IAAD,CAAOE,KAAP,qBACX,KAAC,kBAAD,EAAgC,IAAI,CAAEF,IAAtC,EAAyBE,KAAzB,CADW,EAAb,CAJJ,EAFF,GADF,CAcD,CAjCD,CAmCA,cAAenB,CAAAA,cAAf","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport \"./CatalogProduct.css\";\r\nimport CatalofProductItem from \"../Components/CatalogProductItem\";\r\nimport Loading from \"../Components/Loading/Loading\";\r\n\r\nconst CatalogProduct = () => {\r\n  const [products, setProducts] = React.useState(null);\r\n\r\n  const location = useLocation();\r\n\r\n  const useQuery = () => new URLSearchParams(location.search);\r\n\r\n  let query = useQuery();\r\n\r\n  React.useEffect(() => {\r\n    axios.get(\"/products\").then((res) => {\r\n      let category = query.get(\"q\");\r\n\r\n      const filtered = res.data.filter((item) => item.category === category);\r\n\r\n      setProducts(filtered);\r\n    });\r\n  }, [query]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"product-content-title\">{query.get(\"q\")}</h1>\r\n      <div className=\"row mb-3\">\r\n        {products === null ? (\r\n          <Loading />\r\n        ) : (\r\n          products.map((item, index) => (\r\n            <CatalofProductItem key={index} data={item} />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CatalogProduct;\r\n"]},"metadata":{},"sourceType":"module"}