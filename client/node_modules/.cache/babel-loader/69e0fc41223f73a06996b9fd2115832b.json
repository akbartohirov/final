{"ast":null,"code":"import _defineProperty from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from\"../../../Components/AdminSidebar\";import\"./AdminSubCategoryDetailsPage.css\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminSubUserDetailsPage=function AdminSubUserDetailsPage(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),categories=_React$useState2[0],setCategories=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),subCategories=_React$useState4[0],setSubCategories=_React$useState4[1];var _React$useState5=React.useState({subSubCategoryName:\"\",subCategory:\"\",category:\"\"}),_React$useState6=_slicedToArray(_React$useState5,2),form=_React$useState6[0],setForm=_React$useState6[1];var _useParams=useParams(),id=_useParams.id;React.useEffect(function(){var _JSON$parse=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse.token;axios.get(\"/subsubcategory/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(_ref){var data=_ref.data;setForm({subSubCategoryName:data.subSubCategoryName,subCategory:data.subCategory,category:data.category});});},[id]);React.useEffect(function(){axios.get(\"/category\").then(function(_ref2){var data=_ref2.data;setCategories(data);});},[id]);React.useEffect(function(){axios.get(\"/subcategory\").then(function(_ref3){var data=_ref3.data;setSubCategories(data);});},[id]);var submitHanler=function submitHanler(e){var _JSON$parse2=JSON.parse(localStorage.getItem(\"userData\")),token=_JSON$parse2.token;e.preventDefault();axios.patch(\"/subsubcategory/\".concat(id),form,{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(res){window.M.toast({html:\"Имзменения сохранени\",classes:\"loginToast\"});}).catch(function(e){window.M.toast({html:e.message,classes:\"loginToastRed\"});});};var _onChange=function onChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"adminUsersDetailsPage\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"center-align\",children:\"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"col m6 offset-m3\",onSubmit:function onSubmit(e){return submitHanler(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:form.category,onChange:function onChange(e){return _onChange(e);},name:\"category\",className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),categories.length>0&&categories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el._categoryName,children:el.categoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsxs(\"select\",{value:form.subCategory,onChange:function onChange(e){return _onChange(e);},name:\"subCategory\",className:\"browser-default\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u041F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),subCategories.length>0&&subCategories.map(function(el){return/*#__PURE__*/_jsx(\"option\",{value:el.subCategoryName,children:el.subCategoryName},el._id);})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"subSubCategoryName\",type:\"text\",name:\"subSubCategoryName\",required:true,className:\"validate\",value:form.subSubCategoryName,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subSubCategoryName\",children:\"\\u041F\\u043E\\u0434\\u043F\\u043E\\u0434\\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})})})]})})]})]});};export default AdminSubUserDetailsPage;","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/pages/adminpages/admindetailspage/AdminSubSubCategoryDetailsPage.js"],"names":["React","AdminSidebar","axios","useParams","AdminSubUserDetailsPage","useState","categories","setCategories","subCategories","setSubCategories","subSubCategoryName","subCategory","category","form","setForm","id","useEffect","JSON","parse","localStorage","getItem","token","get","headers","Authorization","then","data","submitHanler","e","preventDefault","patch","res","window","M","toast","html","classes","catch","message","onChange","target","name","value","length","map","el","_categoryName","categoryName","_id","subCategoryName"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import AdminSidebar from \"../../../Components/\";\nimport AdminSidebar from \"../../../Components/AdminSidebar\";\nimport \"./AdminSubCategoryDetailsPage.css\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nconst AdminSubUserDetailsPage = () => {\n  const [categories, setCategories] = React.useState([]);\n  const [subCategories, setSubCategories] = React.useState([]);\n\n  const [form, setForm] = React.useState({\n    subSubCategoryName: \"\",\n    subCategory: \"\",\n    category: \"\",\n  });\n\n  const { id } = useParams();\n\n  React.useEffect(() => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    axios\n      .get(`/subsubcategory/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(({ data }) => {\n        setForm({\n          subSubCategoryName: data.subSubCategoryName,\n          subCategory: data.subCategory,\n          category: data.category,\n        });\n      });\n  }, [id]);\n\n  React.useEffect(() => {\n    axios.get(`/category`).then(({ data }) => {\n      setCategories(data);\n    });\n  }, [id]);\n\n  React.useEffect(() => {\n    axios.get(`/subcategory`).then(({ data }) => {\n      setSubCategories(data);\n    });\n  }, [id]);\n\n  const submitHanler = (e) => {\n    const { token } = JSON.parse(localStorage.getItem(\"userData\"));\n\n    e.preventDefault();\n\n    axios\n      .patch(`/subsubcategory/${id}`, form, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        window.M.toast({ html: \"Имзменения сохранени\", classes: \"loginToast\" });\n      })\n      .catch((e) => {\n        window.M.toast({ html: e.message, classes: \"loginToastRed\" });\n      });\n  };\n\n  const onChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <div className=\"adminPage\">\n      <AdminSidebar />\n      <div className=\"adminUsersDetailsPage\">\n        <h4 className=\"center-align\">Подподкатегория</h4>\n        <div className=\"row\">\n          <form className=\"col m6 offset-m3\" onSubmit={(e) => submitHanler(e)}>\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={form.category}\n                  onChange={(e) => onChange(e)}\n                  name=\"category\"\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Категория\n                  </option>\n                  {categories.length > 0 &&\n                    categories.map((el) => (\n                      <option key={el._id} value={el._categoryName}>\n                        {el.categoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <select\n                  value={form.subCategory}\n                  onChange={(e) => onChange(e)}\n                  name=\"subCategory\"\n                  className=\"browser-default\"\n                >\n                  <option value=\"\" disabled>\n                    Подкатегория\n                  </option>\n                  {subCategories.length > 0 &&\n                    subCategories.map((el) => (\n                      <option key={el._id} value={el.subCategoryName}>\n                        {el.subCategoryName}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"subSubCategoryName\"\n                  type=\"text\"\n                  name=\"subSubCategoryName\"\n                  required\n                  className=\"validate\"\n                  value={form.subSubCategoryName}\n                  onChange={(e) => onChange(e)}\n                />\n                <label htmlFor=\"subSubCategoryName\">Подподкатегория</label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <button className=\"btn\" type=\"submit\">\n                  Сохранить\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSubUserDetailsPage;\n"]},"metadata":{},"sourceType":"module"}