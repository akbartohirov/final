{"ast":null,"code":"import _slicedToArray from\"/home/akbar/Desktop/akbarsfolder/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useParams,Link}from\"react-router-dom\";import axios from\"axios\";import CatalogProductItem from\"../Components/CatalogProductItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),subsubcategory=_React$useState2[0],setSubsubcategory=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),products=_React$useState4[0],setProducts=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];var _useParams=useParams(),id=_useParams.id;React.useEffect(function(){axios.get(\"/subsubcategory/\".concat(id)).then(function(res){setSubsubcategory(res.data.subSubCategoryName);}).catch(function(e){console.log(e.message);setError(e.message);});},[id]);React.useEffect(function(){axios.get(\"/products\").then(function(res){if(subsubcategory){var filtered=res.data.filter(function(el){return el.subSubCategory===subsubcategory;});console.log(filtered);setProducts(filtered);}});},[subsubcategory]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/catalog\",style:{display:\"flex\",fontSize:\"18px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"small material-icons\",children:\"chevron_left\"}),\"\\u041D\\u0430\\u0437\\u0430\\u0434 \\u0432 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\",\" \"]})}),error&&/*#__PURE__*/_jsxs(\"h2\",{className:\"red-text\",children:[\" \",error,\" \"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",justifyContent:\"flex-start\"},children:products.map(function(product){return/*#__PURE__*/_jsx(CatalogProductItem,{data:product,ownstyle:{width:\"300px\",margin:\"0 30px\"}},product._id);})})]});};export default Products;","map":{"version":3,"sources":["/home/akbar/Desktop/akbarsfolder/project/client/src/pages/Products.js"],"names":["React","useParams","Link","axios","CatalogProductItem","Products","useState","subsubcategory","setSubsubcategory","products","setProducts","error","setError","id","useEffect","get","then","res","data","subSubCategoryName","catch","e","console","log","message","filtered","filter","el","subSubCategory","display","fontSize","flexWrap","justifyContent","map","product","width","margin","_id"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,IAApB,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,kCAA/B,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,qBACuBL,KAAK,CAACM,QAAN,CAAe,EAAf,CADvB,oDACdC,cADc,qBACEC,iBADF,0CAEWR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFX,qDAEdG,QAFc,qBAEJC,WAFI,0CAGKV,KAAK,CAACM,QAAN,CAAe,EAAf,CAHL,qDAGdK,KAHc,qBAGPC,QAHO,oCAINX,SAAS,EAJH,CAIbY,EAJa,YAIbA,EAJa,CAMrBb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBX,KAAK,CACFY,GADH,2BAC0BF,EAD1B,GAEGG,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbT,iBAAiB,CAACS,GAAG,CAACC,IAAJ,CAASC,kBAAV,CAAjB,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,CAAD,CAAO,CACZC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd,EACAZ,QAAQ,CAACS,CAAC,CAACG,OAAH,CAAR,CACD,CARH,EASD,CAVD,CAUG,CAACX,EAAD,CAVH,EAYAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBX,KAAK,CAACY,GAAN,CAAU,WAAV,EAAuBC,IAAvB,CAA4B,SAACC,GAAD,CAAS,CACnC,GAAIV,cAAJ,CAAoB,CAClB,GAAMkB,CAAAA,QAAQ,CAAGR,GAAG,CAACC,IAAJ,CAASQ,MAAT,CACf,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACC,cAAH,GAAsBrB,cAA9B,EADe,CAAjB,CAGAe,OAAO,CAACC,GAAR,CAAYE,QAAZ,EACAf,WAAW,CAACe,QAAD,CAAX,CACD,CACF,CARD,EASD,CAVD,CAUG,CAAClB,cAAD,CAVH,EAYA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,iCACE,MAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,KAAK,CAAE,CAAEsB,OAAO,CAAE,MAAX,CAAmBC,QAAQ,CAAE,MAA7B,CAA3B,wBACE,UAAG,SAAS,CAAC,sBAAb,0BADF,oFAEkB,GAFlB,GADF,EADF,CAOGnB,KAAK,eAAI,YAAI,SAAS,CAAC,UAAd,eAA2BA,KAA3B,OAPZ,cAQE,YACE,KAAK,CAAE,CACLkB,OAAO,CAAE,MADJ,CAELE,QAAQ,CAAE,MAFL,CAGLC,cAAc,CAAE,YAHX,CADT,UAOGvB,QAAQ,CAACwB,GAAT,CAAa,SAACC,OAAD,qBACZ,KAAC,kBAAD,EAEE,IAAI,CAAEA,OAFR,CAGE,QAAQ,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAE,QAA1B,CAHZ,EACOF,OAAO,CAACG,GADf,CADY,EAAb,CAPH,EARF,GADF,CA0BD,CAxDD,CA0DA,cAAehC,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport CatalogProductItem from \"../Components/CatalogProductItem\";\n\nconst Products = () => {\n  const [subsubcategory, setSubsubcategory] = React.useState(\"\");\n  const [products, setProducts] = React.useState([]);\n  const [error, setError] = React.useState(\"\");\n  const { id } = useParams();\n\n  React.useEffect(() => {\n    axios\n      .get(`/subsubcategory/${id}`)\n      .then((res) => {\n        setSubsubcategory(res.data.subSubCategoryName);\n      })\n      .catch((e) => {\n        console.log(e.message);\n        setError(e.message);\n      });\n  }, [id]);\n\n  React.useEffect(() => {\n    axios.get(\"/products\").then((res) => {\n      if (subsubcategory) {\n        const filtered = res.data.filter(\n          (el) => el.subSubCategory === subsubcategory\n        );\n        console.log(filtered);\n        setProducts(filtered);\n      }\n    });\n  }, [subsubcategory]);\n\n  return (\n    <div className=\"container\">\n      <h5>\n        <Link to=\"/catalog\" style={{ display: \"flex\", fontSize: \"18px\" }}>\n          <i className=\"small material-icons\">chevron_left</i>\n          Назад в каталог{\" \"}\n        </Link>\n      </h5>\n      {error && <h2 className=\"red-text\"> {error} </h2>}\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          justifyContent: \"flex-start\",\n        }}\n      >\n        {products.map((product) => (\n          <CatalogProductItem\n            key={product._id}\n            data={product}\n            ownstyle={{ width: \"300px\", margin: \"0 30px\" }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}