{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import\"./CatalogProductItem.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CatalogProductItem=function CatalogProductItem(_ref){var data=_ref.data,ownstyle=_ref.ownstyle;// console.log(baseUrlForImg + data.img[0].path);\nvar basketHandler=function basketHandler(e){var addedProduct=JSON.parse(localStorage.getItem(\"salamBasket\"));if(!addedProduct){localStorage.setItem(\"salamBasket\",JSON.stringify([{productId:data._id,quantity:1,price:data.sellPrice}]));window.M.toast({html:\"Продукт добавлен\",classes:\"loginToast\"});return;}else{var productIds=addedProduct.map(function(item){return item.productId;});if(addedProduct&&productIds.includes(data._id)){window.M.toast({html:\"Продукт уже существует в ввшем корзине\",classes:\"loginToastYellow\"});return;}else if(addedProduct&&!productIds.includes(data._id)){addedProduct.push({productId:data._id,quantity:1,price:data.sellPrice});localStorage.setItem(\"salamBasket\",JSON.stringify(addedProduct));window.M.toast({html:\"Продукт добавлен\",classes:\"loginToast\"});}}};return/*#__PURE__*/_jsx(\"div\",{className:\"col s12 m4\",style:ownstyle&&ownstyle,children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:data&&data.img[0].path,alt:\"product img\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(data._id),className:\"card-title prodcuct-card-title \",style:{cursor:\"pointer\"},children:data.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsx(\"p\",{children:\"I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-action\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect\",onClick:function onClick(e){return basketHandler(e);},children:\"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})})]})});};export default CatalogProductItem;","map":{"version":3,"sources":["/home/akbar/Desktop/project/client/src/Components/CatalogProductItem.js"],"names":["React","Link","CatalogProductItem","data","ownstyle","basketHandler","e","addedProduct","JSON","parse","localStorage","getItem","setItem","stringify","productId","_id","quantity","price","sellPrice","window","M","toast","html","classes","productIds","map","item","includes","push","img","path","cursor","title"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,0BAAP,C,wFAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAAwB,IAArBC,CAAAA,IAAqB,MAArBA,IAAqB,CAAfC,QAAe,MAAfA,QAAe,CACjD;AAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC3B,GAAIC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAnB,CAEA,GAAI,CAACJ,YAAL,CAAmB,CACjBG,YAAY,CAACE,OAAb,CACE,aADF,CAEEJ,IAAI,CAACK,SAAL,CAAe,CACb,CACEC,SAAS,CAAEX,IAAI,CAACY,GADlB,CAEEC,QAAQ,CAAE,CAFZ,CAGEC,KAAK,CAAEd,IAAI,CAACe,SAHd,CADa,CAAf,CAFF,EAUAC,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe,CAAEC,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAE,YAArC,CAAf,EACA,OACD,CAbD,IAaO,CACL,GAAMC,CAAAA,UAAU,CAAGjB,YAAY,CAACkB,GAAb,CAAiB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACZ,SAAf,EAAjB,CAAnB,CACA,GAAIP,YAAY,EAAIiB,UAAU,CAACG,QAAX,CAAoBxB,IAAI,CAACY,GAAzB,CAApB,CAAmD,CACjDI,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe,CACbC,IAAI,CAAE,wCADO,CAEbC,OAAO,CAAE,kBAFI,CAAf,EAIA,OACD,CAND,IAMO,IAAIhB,YAAY,EAAI,CAACiB,UAAU,CAACG,QAAX,CAAoBxB,IAAI,CAACY,GAAzB,CAArB,CAAoD,CACzDR,YAAY,CAACqB,IAAb,CAAkB,CAChBd,SAAS,CAAEX,IAAI,CAACY,GADA,CAEhBC,QAAQ,CAAE,CAFM,CAGhBC,KAAK,CAAEd,IAAI,CAACe,SAHI,CAAlB,EAKAR,YAAY,CAACE,OAAb,CAAqB,aAArB,CAAoCJ,IAAI,CAACK,SAAL,CAAeN,YAAf,CAApC,EACAY,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe,CAAEC,IAAI,CAAE,kBAAR,CAA4BC,OAAO,CAAE,YAArC,CAAf,EACD,CACF,CACF,CAlCD,CAoCA,mBACE,YAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAEnB,QAAQ,EAAIA,QAA/C,uBACE,aAAK,SAAS,CAAC,MAAf,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,YAAK,GAAG,CAAED,IAAI,EAAIA,IAAI,CAAC0B,GAAL,CAAS,CAAT,EAAYC,IAA9B,CAAoC,GAAG,CAAC,aAAxC,EADF,cAEE,KAAC,IAAD,EACE,EAAE,oBAAc3B,IAAI,CAACY,GAAnB,CADJ,CAEE,SAAS,CAAC,iCAFZ,CAGE,KAAK,CAAE,CAAEgB,MAAM,CAAE,SAAV,CAHT,UAKG5B,IAAI,CAAC6B,KALR,EAFF,GADF,cAWE,YAAK,SAAS,CAAC,cAAf,uBACE,sKADF,EAXF,cAkBE,YAAK,SAAS,CAAC,aAAf,uBACE,eACE,SAAS,CAAC,kBADZ,CAEE,OAAO,CAAE,iBAAC1B,CAAD,QAAOD,CAAAA,aAAa,CAACC,CAAD,CAApB,EAFX,+DADF,EAlBF,GADF,EADF,CA+BD,CAtED,CAwEA,cAAeJ,CAAAA,kBAAf","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./CatalogProductItem.css\";\n\nconst CatalogProductItem = ({ data, ownstyle }) => {\n  // console.log(baseUrlForImg + data.img[0].path);\n\n  const basketHandler = (e) => {\n    let addedProduct = JSON.parse(localStorage.getItem(\"salamBasket\"));\n\n    if (!addedProduct) {\n      localStorage.setItem(\n        \"salamBasket\",\n        JSON.stringify([\n          {\n            productId: data._id,\n            quantity: 1,\n            price: data.sellPrice,\n          },\n        ])\n      );\n      window.M.toast({ html: \"Продукт добавлен\", classes: \"loginToast\" });\n      return;\n    } else {\n      const productIds = addedProduct.map((item) => item.productId);\n      if (addedProduct && productIds.includes(data._id)) {\n        window.M.toast({\n          html: \"Продукт уже существует в ввшем корзине\",\n          classes: \"loginToastYellow\",\n        });\n        return;\n      } else if (addedProduct && !productIds.includes(data._id)) {\n        addedProduct.push({\n          productId: data._id,\n          quantity: 1,\n          price: data.sellPrice,\n        });\n        localStorage.setItem(\"salamBasket\", JSON.stringify(addedProduct));\n        window.M.toast({ html: \"Продукт добавлен\", classes: \"loginToast\" });\n      }\n    }\n  };\n\n  return (\n    <div className=\"col s12 m4\" style={ownstyle && ownstyle}>\n      <div className=\"card\">\n        <div className=\"card-image\">\n          <img src={data && data.img[0].path} alt=\"product img\" />\n          <Link\n            to={`/product/${data._id}`}\n            className=\"card-title prodcuct-card-title \"\n            style={{ cursor: \"pointer\" }}\n          >\n            {data.title}\n          </Link>\n        </div>\n        <div className=\"card-content\">\n          <p>\n            I am a very simple card. I am good at containing small bits of\n            information. I am convenient because I require little markup to use\n            effectively.\n          </p>\n        </div>\n        <div className=\"card-action\">\n          <button\n            className=\"btn waves-effect\"\n            onClick={(e) => basketHandler(e)}\n          >\n            В корзину\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CatalogProductItem;\n"]},"metadata":{},"sourceType":"module"}